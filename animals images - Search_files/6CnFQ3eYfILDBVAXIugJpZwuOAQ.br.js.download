var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},__assign.apply(this,arguments)},__awaiter=this&&this.__awaiter||function(n,t,i,r){function u(n){return n instanceof i?n:new i(function(t){t(n)})}return new(i||(i=Promise))(function(i,f){function o(n){try{e(r.next(n))}catch(t){f(t)}}function s(n){try{e(r["throw"](n))}catch(t){f(t)}}function e(n){n.done?i(n.value):u(n.value).then(o,s)}e((r=r.apply(n,t||[])).next())})},__generator=this&&this.__generator||function(n,t){function o(n){return function(t){return s([n,t])}}function s(o){if(e)throw new TypeError("Generator is already executing.");while(f&&(f=0,o[0]&&(r=0)),r)try{if(e=1,u&&(i=o[0]&2?u["return"]:o[0]?u["throw"]||((i=u["return"])&&i.call(u),0):u.next)&&!(i=i.call(u,o[1])).done)return i;(u=0,i)&&(o=[o[0]&2,i.value]);switch(o[0]){case 0:case 1:i=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++;u=o[1];o=[0];continue;case 7:o=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!i||o[1]>i[0]&&o[1]<i[3])){r.label=o[1];break}if(o[0]===6&&r.label<i[1]){r.label=i[1];i=o;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(o);break}i[2]&&r.ops.pop();r.trys.pop();continue}o=t.call(n,r)}catch(s){o=[6,s];u=0}finally{e=i=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},e,u,i,f;return f={next:o(0),"throw":o(1),"return":o(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f},__spreadArray=this&&this.__spreadArray||function(n,t,i){if(i||arguments.length===2)for(var r=0,f=t.length,u;r<f;r++)!u&&r in t||(u||(u=Array.prototype.slice.call(t,0,r)),u[r]=t[r]);return n.concat(u||Array.prototype.slice.call(t))},EnglishZOChatV4_sydneyRin;(function(n){function gc(n){var p,d,o,ut,s,h,ft,et,nt;t=n;rt=t.SydBaseUrl;e=t.altChatWindowId?_ge(t.altChatWindowId):null;pt=t.altMicId?_ge(t.altMicId):null;tr=t.altInputId?_ge(t.altInputId):null;nu=t.altSendId?_ge(t.altSendId):null;sf=t.altKbId?_ge(t.altKbId):null;hr=t.altChatContId?_ge(t.altChatContId):null;g=t.altTextboxId?_ge(t.altTextboxId):null;dt=t.hideOverlayForAlt&&e!=null;var l=e&&e.getAttribute("data-sydsm"),a=e&&e.getAttribute("data-sydqna"),it=e&&e.getAttribute("data-sydwrap");if(cf=e&&e.getAttribute("data-sydansname"),l&&l=="true"?(c=!0,a&&a=="true"?(b=!0,tt=fl(),r("ClientInst",i,"DisplayType","type","SydneyQnA"),r("ClientInst",i,"SydQnaAnswerHeight",tt===null||tt===void 0?void 0:tt.toString()),ns(),vi(),bo(),rl()):it&&it=="true"?(k=!0,tt=el(),r("ClientInst",i,"SydWrappedAnswerHeight",tt===null||tt===void 0?void 0:tt.toString()),r("ClientInst",i,"DisplayType","type","SydneyWrapped"+cf),ns(),vi(),bo(),tl()):(tt=t.altChatWindowIdBigBan?290:233,r("ClientInst",i,"DisplayType","type","SuperMax"))):l&&l=="false"&&(lr=!0),u=t.conversationId,e){for(cr=!0,Lib.CssClass.add(e,"b_syd_loaded"),c||(r("ClientInst",i,"DisplayType","type","Inline"),o=_ge("b_sydin_mtin"),t.enableSydneyStaticBid&&o&&(o&&r("ClientInst",i,"InlineBid","text",o.innerText),o&&v([{Entity:o.innerText,Type:"Text"}]),ut=e.querySelector(".ev_msg_wrapper.ev_mw_bot"),Lib.CssClass.add(ut,"syd_fm"))),s=hu(),h=0;h<(s===null||s===void 0?void 0:s.length);h++)r("ClientInst",i,"Conversation","text",(p=s[h])===null||p===void 0?void 0:p.text,"order",f.toString(),"from",(d=s[h])===null||d===void 0?void 0:d.author.toUpperCase()),f++;!c&&t.enableSydneyInlineSendQuery&&(ft=gt(t.searchQuery,!1,!1,[],!1,e),e.appendChild(ft),e.scrollTop=e.scrollHeight,y++,w=!0,!t.enableMsgQueues||lr||a?(er(t.searchQuery,!1,!1,0,"",!0),r("ClientInst",i,"Conversation","text",t.searchQuery,"order",f.toString(),"from","USER")):(ne({normalizedQuery:t.searchQuery,userTriggered:!1,sessionRefresh:!1,timeoutCount:0,uquid:"",fromAlt:!0,uId:cu()}),wt||su()),f++);(t.blockGenerateIfAlt||t.blockOverlay)&&!c||sj_evt.fire("clarity.trigger","sydneychatbot")}gi=t.characterName?t.headerShortText.replace(" you",", I am "+t.characterName):t.headerShortText;t.enableConvoIdMsg&&(et=new URLSearchParams(_w.location.search),nt=et.get(vc),nt&&(rt=nt));t.enableConvoIdMsg||!_G.aad?ts():(r("ClientInst",i,"BlockedAAD"),sj_evt.bind("aad:tokenfailed",ts,!0));!t.enableMsgQueues||a||c||lr||vl()}function bo(){var f=_ge("b_syd_mic_ingress"),i,r,u,n,t;f&&sj_be(f,"click",function(n){bu(n,!0);ai()});i=_ge("b_syd_sugg_arrow_left");i&&sj_be(i,"click",function(){return is(!1)});r=_ge("b_syd_sugg_arrow_right");r&&sj_be(r,"click",function(){return is(!0)});u=_ge("syd_qna_suggestion");u&&sj_be(u,"scroll",function(){return vi()});nl();n=_ge("b_sydqna_excited_logo");t=_ge("b_sydqna_default_logo");n&&t&&(sj_be(t,"mouseover",function(){MsnShared.addClass(t,"b_hide");MsnShared.removeClass(n,"b_hide")}),sj_be(n,"mouseout",function(){MsnShared.addClass(n,"b_hide");MsnShared.removeClass(t,"b_hide")}))}function nl(){var t=_d.getElementsByClassName("b_syd_logo_image"),n;t[0]&&sj_be(t[0],"click",function(){r("ClientInst",i,"QnaTitleLogoClicked")});n=_ge("syd_qna_learnmore_container");n&&sj_be(n,"click",function(){r("ClientInst",i,"QnaLearnMoreClicked")})}function tl(){for(var t,i,r,u,f,e,o=_qs(".sydwrap_wrapper > #b_syd_supermax .sa_items .b_slidebar"),s=[],n=o===null||o===void 0?void 0:o.firstChild;n!=null;n=n===null||n===void 0?void 0:n.nextSibling)t=n,t&&(i={title:(r=_qs(".pcc-ttl span",t))===null||r===void 0?void 0:r.getAttribute("title"),url:(u=_qs(".pcc-lnk",t))===null||u===void 0?void 0:u.getAttribute("data-url"),price:(e=(f=_qs(".sa_price",t))===null||f===void 0?void 0:f.firstChild)===null||e===void 0?void 0:e.textContent,seller:il(t)},s.push("Price of "+i.title+" is "+i.price+" sold by "+i.seller+" website: "+i.url));ko();ou.push({author:"bot",text:JSON.stringify(s)})}function il(n){var t,i,u=(t=_qs(".sa_seller",n))===null||t===void 0?void 0:t.innerText,r=(i=_qs(".sa_seller span",n))===null||i===void 0?void 0:i.getAttribute("title");return r?r:u}function rl(){var t,n,i;for(ko(),t=_d.getElementsByClassName("qna-sydney"),n=0;n<t.length;n++)i=t[n],ou.push({author:"bot",text:i.innerText})}function ko(){var n=_ge("sb_form_q");(n===null||n===void 0?void 0:n.value)&&ou.push({author:"user",text:n.value})}function ul(n,t){n&&t&&go(n,t)}function go(n,t,i){i===void 0&&(i=0);n&&t&&t.length>i&&setTimeout(function(){n.placeholder=t.slice(0,i+1);go(n,t,i+1)},50)}function ns(){var n=_ge("b_syd_sm_tb");n&&ul(n,n.placeholder)}function fl(){var n=_ge("b_syd_supermax");return n?n.offsetHeight:300}function el(){var n=_ge("sydwrap_wrapper");return n?n.offsetHeight:300}function ts(){var s,ot=_G.BPT?(new Date).getTime()-_G.BPT.getTime():-1,h,l,nt,a,v,tt,rt,ut,n,u,e,p,ft,g;if(r("ClientInst",i,"Loaded","XAPSignal",t.hasBEData?t.shouldTrigger?"1":"-1":"0","loadTime",ot.toString()),t.triggerReason&&t.triggerReason!=""&&r("ClientInst",i,"TriggerReason","Reason",t.triggerReason),!o){r("ClientInst",i,"NoWrapper");return}if(h=sj_cook.get(yc,pc),h&&h=="0"){r("ClientInst",i,"DisabledBySetting");return}l=sj_cook.get(eu,pf);l&&(nt=864e5,a=parseInt(l),t.blockOnMultFate&&a&&a<(new Date).getTime()+nt?(ri(),r("ClientInst",i,"PreviouslyDisabledByFate")):sj_cook.clear(eu));v=sj_cook.get(yf,"CBHide");v&&v=="1"&&(uo=!0,fo=!0,sj_cook.clear(yf));(t.blockGenerateIfAlt||t.blockOverlay)&&!c||ea();tt=Math.floor(Math.random()*to.length);al();(t.blockGenerateIfAlt||t.blockOverlay)&&!c||hl();(_w.location.href.indexOf("/opaluqu")>0||_w.location.href.indexOf("/vsearch")>0)&&r("ClientInst",i,"VoiceTrigger");((s=navigator===null||navigator===void 0?void 0:navigator.serviceWorker)===null||s===void 0?void 0:s.controller)&&r("ClientInst",i,"ServiceWorkerInstalled");uo||fo||et||t.allowBETrig&&t.hasBEData&&!t.shouldTrigger||(!t.allowBETrig||!t.hasBEData)&&ol()&&!t.blockGenerateIfAlt&&!t.blockOverlay||dt?(r("ClientInst",i,"ShouldSuppress"),rt=_ge(wi),MsnShared.addClass(rt,"ev_tb_first"),!t.enableDelighterForceMax||t.blockedDomainReason||dt||!t.blockOverlay?(t.enableSmartReply?oe():(ks(to[tt]),ds()),(!dt||t.blockOverlay)&&(yi(),vt&&(ut=_G.BPT?(new Date).getTime()-_G.BPT.getTime():-1,r("ClientInst",i,"Triggered","isMinimized",d.toString(),"timeSinceLoad",ut.toString()),bi=!0),t.calloutEnabled&&!et&&ph())):ve()):(r("ClientInst",i,"ShouldNotSuppress"),y++,w=!0,!t.enableMsgQueues||c||lr||b||k?t.blockOverlay||er(t.searchQuery,!1):(ne({normalizedQuery:t.searchQuery,userTriggered:!1,sessionRefresh:!1,timeoutCount:0,uquid:"",fromAlt:!1,uId:cu()}),wt||su()),r("ClientInst",i,"Conversation","text",t.searchQuery,"order",f.toString(),"from","USER"),f++);t.sydneyDisclaimerBold&&t.sydneyDisclaimerStart&&t.sydneyDisclaimerLinkText&&t.sydneyDisclaimerEnd&&t.privacyStatementUrl&&(n=_ge(it),n&&(u=gt("",!0,!1,null,!1,n),Lib.CssClass.add(u,"b_disclaimer"),e=u.querySelector(".ev_zo_msg"),p=sj_ce("span"),p.innerText=t.sydneyDisclaimerStart,e.appendChild(p),ft=_ge("b_syd_privlink"),e.appendChild(ft),g=sj_ce("span"),g.innerText=t.sydneyDisclaimerEnd,e.appendChild(g),n.appendChild(u)));sj_evt.bind("feedbackInitialized",sl)}function ol(){var i=_d.querySelector(".b_ans.b_top"),n=t.searchQuery.toLowerCase();return t.shouldSuppress&&i===null&&n!=="google"&&n!=="youtube"&&n!=="facebook"}function sl(){var n=_ge("ev_talkbox_max");MsnShared.addClass(n,"ev_feedback")}function hl(){var ot,gt,tt,ht,ct,at,rt,ut,yt,ni,h,ti,u,n,wt,e,ii,l,v,y,et,dt;if(sj_evt.bind("ajax.unload",function(){r("ClientInst",i,"AjaxUnload");d=!0;s=!0;pe=!0;w=!1;kr=!1;gu=!1;nf=!1;bi=!1;uf=!1}),sj_evt.bind("fab_vis",la),gt=hr?hr:o,sj_be(gt,"click",us),sj_be(o,"mouseenter",ll),sj_be(o,"mouseleave",ss),sj_be(o,"keydown",function(n){n.code=="Escape"&&(pr(),ft(!0))}),tt=_ge("ev_tb_maxclose"),t.enableMinimize||t.disableMaxTrigger?tt=_ge("ev_tb_minimize"):t.enableClose&&(ht=_ge("ev_tb_minimize"),sj_be(ht,"click",function(){pr();ft(!0)}),sj_be(ht,"keydown",function(n){(n.code=="Enter"||n.code=="Escape")&&(pr(),ft(!0))})),sj_be(tt,"click",function(){pr();ft(!0);pu()}),sj_be(tt,"keydown",function(n){(n.code=="Enter"||n.code=="Escape")&&(pr(),ft(!0),pu())}),ct=_ge(oi),sj_be(ct,"click",function(){fe(!0);document.getElementById("ev_send_text").focus()}),sj_be(ct,"keydown",function(n){n.code=="Enter"&&(fe(!0),document.getElementById("ev_send_text").focus())}),sj_be(_ge(du),"click",lt),sj_be(_ge(du),"keydown",function(n){n.code=="Enter"&&lt()}),c&&(at=_ge("b_syd_try_now"),at&&sj_be(at,"click",function(){var n,t;r("ClientInst",i,"MainlineTryNowClicked");n=_ge("b_syd_supermax");n&&Lib.CssClass.remove(n,"syd_engaged");t=_ge("b_syd_supermaxv2");t&&Lib.CssClass.add(t,"b_syd_overlay_hide")})),b||k){for(rt=_d.getElementsByClassName("syd_qna_suggestion_item"),ut=rt.length,r("ClientInst",i,"SuggestionChips","Count",ut===null||ut===void 0?void 0:ut.toString()),yt=function(n,t,u,e,o,s,h){var c,a,l;u?(c=decodeURIComponent(u),r("ClientInst",i,"SydQnaPaaSuggestionTextClicked","text",c,"position",(s+1).toString()),MsnShared.addClass(n,"b_hide"),vi(),r("ClientInst",i,"SydQnaSuggestion","type","PAA"),a={BingFirstPageContent:{DisplayText:t,Title:t,SourceUrl:e?decodeURIComponent(e):"",SourceName:o?decodeURIComponent(o):"",ScenarioName:"RelatedQna",AnswerId:"1",ServiceName:"QnaDataAnswer",FeedName:"PrimarySection"},message:{messageType:"Suggestion"}},lt(c,!1,"",!0,!1,a),r("ClientInst",i,"Conversation","text",c,"order",f.toString(),"from","PAA"),vi(),r("ClientInst",i,"SydQnaPaaSuggClicked","text",c,"position",(s+1).toString())):h&&(l=decodeURIComponent(h),lt(l,!1,"",!0),r("ClientInst",i,"SydQnaSuggestion","type","Static"),r("ClientInst",i,"SydQnaStaticSuggClicked","text",l,"position",(s+1).toString()),vi())},ni=function(n){var t=rt[n],u=t.getAttribute("data-paa-que"),f=t.getAttribute("data-msg");(u||f)&&(r("ClientInst",i,"SydQnaSuggTextRender"+(n+1).toString(),"text",decodeURIComponent(u?u:f)),sj_be(t,"click",function(){var i=decodeURIComponent(t.getAttribute("data-paa-resp")||""),r=t.getAttribute("data-paa-url"),e=t.getAttribute("data-paa-urlDis");yt(t,i,u,r,e,n,f)}))},u=0;u<rt.length;u++)ni(u);sj_evt.bind("sydSuggestionFast",function(n){yt(n[1],decodeURIComponent(n[2]),n[3],n[4],n[5],n[6],!1)})}if(nu&&(sj_be(nu,"click",function(){lt(null,!1,"",!0)}),sj_be(nu,"keydown",function(n){n.code=="Enter"&&lt(null,!1,"",!0)}),!b&&!k))for(h=_d.getElementsByClassName("syd_suggestion_item"),ti=function(n){r("ClientInst",i,"MainLineSuggestionTextRender","text",(ot=h[n])===null||ot===void 0?void 0:ot.getAttribute("data-msg"),"position",(n+1).toString());sj_be(h[n],"click",function(){var t;r("ClientInst",i,"MainLineSuggestionTextClicked","text",(t=h[n])===null||t===void 0?void 0:t.getAttribute("data-msg"),"position",(n+1).toString());lt(h[n].getAttribute("data-msg"),!1,"",!0);r("ClientInst",i,"MainLineSuggestionText","text",h[n].getAttribute("data-msg"))})},u=0;u<h.length;u++)ti(u);if(sj_be(_w,"beforeunload",th),sj_be(_d,"click",iv),sj_be(nt,"click",bu),pt&&sj_be(pt,"click",function(n){bu(n,!0)}),sj_be(_ge("ev_kb"),"click",function(){ae(!1);_w.setTimeout(function(){_ge(si).focus()},10)}),sf&&sj_be(sf,"click",function(){ae(!0);_w.setTimeout(function(){g.focus()},10)}),sj_evt.bind("sydney.voicestart",kh,!0),n=_ge(si),sj_be(n,"focus",function(){var r,i,c;if(ah(),au(uu),r=_ge(wi),MsnShared.removeClass(r,"ev_tb_first"),MsnShared.hasClass(o,ir)){var t=100,e=328,u=new sj_anim(function(i,r){n.style.width=e-(e-ro)*r/t+"px"});if(u.init(null,0,t,20,function(){n.style.width=ro+"px";u=null;MsnShared.removeClass(o,ir)}),i=_ge(it),p){var f=MsnShared.getCssHeight(i)+cc,s=MsnShared.getCssHeight(r)+hc,h=f+s;f<sc&&h<vf&&(c=new sj_anim(function(n,r){i.style.height=f+(vf-h)*r/t+"px"}),c.init(null,0,t,20,function(){i.style.height=vf-s+"px";u=null}))}}}),wt=16,sj_be(n,"keydown",function(t){t.keyCode==13?(lt(),sj_pd(t)):n.style.height=n.scrollHeight-wt+"px"}),g&&tr&&(sj_be(g,"keydown",function(t){t.keyCode==13?(lt(null,!1,"",!0),sj_pd(t)):n.style.height=n.scrollHeight-wt+"px"}),sj_be(g,"focus",function(){Lib.CssClass.add(tr,"b_syd_focus")}),sj_be(g,"blur",function(){Lib.CssClass.remove(tr,"b_syd_focus")}),sj_be(g,"input",ai),e=_d.getElementById("b_syd_sm_tb"),r("ClientInst",i,"MainlinePromptText","text",(e===null||e===void 0?void 0:e.getAttribute("data-msg"))||""),sj_be(e,"change",function(){r("ClientInst",i,"MainlinePromptTextOnChange","text",(e===null||e===void 0?void 0:e.getAttribute("data-msg"))||"")})),sj_be(_w,"resize",function(){_w.innerWidth<=lc&&Lib.CssClass.contains(o,"ev_preview")&&vt&&(ft(!1),r("ClientInst",i,"minimizeZoResize"));_w.innerWidth>=co&&!cr?(cr=!0,r("ClientInst",i,"ShowSuperMaxResize")):_w.innerWidth<co&&cr&&(cr=!1,r("ClientInst",i,"HideSuperMaxResize"));MsnShared.addClass(_ge("b_syd_supermax"),"b_syd_resized")}),sj_be(_ge("b_syd_sm_tb"),"resize",function(){var n=_ge("b_syd_sm_chat");n.scrollTop=n.scrollHeight}),ii=_ge("ev_tb_img"),sj_be(ii,"click",ca),sj_be(_ge("sb_form"),"submit",function(){var u=_ge("sb_form_q"),t,n;if(u&&a.length>3)for(t=u.value,n=a[2].author=="user"?2:3;n<a.length;n+=2)t===a[n].text&&r("ClientInst",i,"BotQueryInSearchBox","text",t)}),sj_be(st,"click",function(){nh(!0)}),sj_be(kt,"click",function(){nh(!1)}),l=_ge("ev_declare_detail"),sb_st(function(){MsnShared.hide(l)},1e4),t.enableClose||t.enableMinimize||t.disableMaxTrigger||(sj_be(_ge("ev_declare_img"),"click",function(){rs()?MsnShared.show(l):MsnShared.hide(l)}),sj_be(_ge("ev_declare_text"),"click",function(){rs()?MsnShared.show(l):MsnShared.hide(l)})),sj_be(_d,"mouseup",function(n){n.target.id!="ev_declare_detail"&&MsnShared.hide(l)}),t.enableDimmedBckgnd){v="sydb_ualbShow";y=sj_ce("div","sydb_ualbOverlay");function ri(n){sj_sp(n);bt("100%");Lib.CssClass.contains(sj_b,v)||Lib.CssClass.add(sj_b,v)}function ui(){var n=Lib.CssClass.contains(sj_b,v);fi();n&&bt("0")}function fi(){Lib.CssClass.contains(sj_b,v)&&Lib.CssClass.remove(sj_b,v)}function bt(n){y.style.width=n;y.style.height=n}sj_be(y,"click",function(){ui()});et=_ge("ev_send_text");sj_be(et,"focus",ri);sj_be(et,"blur",function(){ui()});sj_be(et,"click",ri);dt=_w.onpagehide;_w.onpagehide=function(n){n.persisted&&(fi(),bt("0"));dt&&dt(n)};sj_b.appendChild(y)}}function ai(n,t){var r,i,u;(n===void 0&&(n=null),t===void 0&&(t=0),c)&&(r=0,b||k||(g.style.height="",i=t?t:Math.min(Math.max(g.scrollHeight,dc),kc),g.style.height=i+"px",r=i-ke,ke=i,tt=tt-r),u=cl(),e.style.maxHeight=tt-u+"px",k||(e.parentElement.style.height=tt+"px"))}function cl(){if(b||k){var n=_ge("b_syd_title_bar"),r=n?n.offsetHeight:0,t=_ge("b_syd_sm_input"),u=t?t.offsetHeight:0,i=_ge("syd_qna_suggestion"),f=i?i.offsetHeight:0,e=_qs("li.b_ans.b_top #sydwrap_wrapper #b_syd_sm_input"),o=e?10:0;return r+u+f+o}return 0}function vi(){var n=_ge("syd_qna_suggestion"),t=_ge("b_syd_sugg_arrow_left"),i=_ge("b_syd_sugg_arrow_right"),e;if(n&&t&&i){if(e=n.offsetHeight,e<=0){Lib.CssClass.add(i,"b_hide");Lib.CssClass.add(t,"b_hide");return}var r=n.offsetWidth,u=n.scrollLeft,f=n.scrollWidth;if(f<=r){Lib.CssClass.add(i,"b_hide");Lib.CssClass.add(t,"b_hide");Lib.CssClass.add(n,"syd_qna_sugg_reverse");return}f>Math.ceil(u+r)?Lib.CssClass.remove(i,"b_hide"):Lib.CssClass.add(i,"b_hide");u==0?Lib.CssClass.add(t,"b_hide"):r<f&&u>0&&Lib.CssClass.remove(t,"b_hide")}}function is(n){var t=_ge("syd_qna_suggestion");t&&(n?t.scrollLeft+=t.offsetWidth:t.scrollLeft-=t.offsetWidth,setTimeout(function(){return vi()},t.offsetWidth+5))}function rs(){var n=_ge("ev_declare_detail");return n.className.split(" ").indexOf("b_hide")>=0?!0:!1}function us(n){var t=(new Date).getTime()-ac,u,f;r("ClientInst",i,"ZoFirstInteraction","timeTaken",t.toString());u=n.target;Lib.CssClass.contains(u,"ev_tb_close")&&r("ClientInst",i,"minNoEngage","timeTaken",t.toString());gu=!0;f=hr?hr:o;sj_ue(f,"click",us);sj_evt.fire("clarity.trigger","sydneychatbot")}function ll(){we=(new Date).getTime();nf=!0;os.trigger()}function al(){var n=o.parentElement,t=_ge("b_content");t&&t.insertBefore(o,t.firstChild);n&&n.parentElement&&n.tagName.toLowerCase()=="li"&&Lib.CssClass.contains(n,"b_ans")&&n.parentElement.removeChild(n)}function ne(n){l.unshift(n)}function lt(n,o,s,h,c,a){var rt,ut,d,w,ft,p,ot,nt,tt,v,st;if((o===void 0&&(o=!1),s===void 0&&(s=""),h===void 0&&(h=!1),c===void 0&&(c=!1),a===void 0&&(a={}),!et&&!(nr>=2))&&(at(),de++,d=h&&g?g:_ge(si),w=n!==null&&typeof n=="string"?n:d.value,w&&(h||c||ne({normalizedQuery:w,userTriggered:!0,sessionRefresh:!1,timeoutCount:0,uquid:s,fromAlt:h,uId:cu()}),ft=_ge(it),ft))){if(p=e?[e]:[ft],!o)for((b||k)&&((rt=Object.keys(a))===null||rt===void 0?void 0:rt.length)==0&&(MsnShared.addClass(_ge("b_syd_supermax"),"syd_qna_usersentmsg"),d.placeholder="Continue chatting with Sydney"),d.value="",h&&ai(),v=0;v<p.length;v++)ot=gt(w,!1,!1,"",!1,p[v]),nt=MsnShared.getElementsByClassName("ev_zo_typing","div",p[v]),nt&&nt.length>0?p[v].insertBefore(ot,nt[0].parentElement):p[v].appendChild(ot),p[v].scrollTop=p[v].scrollHeight;if(t.enableConvoIdMsg&&w==="/sydney id")for(tt=typeof u!="undefined"&&u?u:"undefined",v=0;v<p.length;v++)st=gt(tt,!0,!1,[{Entity:tt,Type:"ConversationURL",conversationUrl:"https://services.bingapis.com/sydney/ui?debug&sourceConversationId=".concat(encodeURIComponent(tt.replace(/'/g,"%27")))}],!1,p[v]),p[v].appendChild(st),p[v].scrollTop=p[v].scrollHeight;else(y==0||t.enableMsgQueues&&(l===null||l===void 0?void 0:l.length))&&ti(),c||(y++,(b||k)&&((ut=Object.keys(a))===null||ut===void 0?void 0:ut.length)==0&&(MsnShared.addClass(_ge("b_syd_supermax"),"syd_qna_manual_send_text"),ai()),t.enableMsgQueues&&!h?wt||su():er(w,!0,!1,0,s,h,Date.now(),[],a));oa();t.enableSmartReply||yu();r(t.enableUtilityLog?"SendText":"ClientInst",i,"sendText");de==1&&r("ClientInst",i,"firstMessageSent");r("ClientInst",i,"Conversation","text",w,"order",f.toString(),"from","USER");f++;ci=!1;tv(w)}}function hs(n,t,u,e,s,h,c,l){var a,p;if(u===void 0&&(u=!1),e===void 0&&(e=0),s===void 0&&(s=""),h===void 0&&(h=!1),c===void 0&&(c=Date.now()),l===void 0&&(l=[]),e++,a=Date.now()-c,r("ClientInst",i,"ChatTimeout","timeoutCount",e.toString(),"retryCallTime",a.toString(),"RepeatFailureCount",nr.toString()),l.push(a),e>=3){var w=++nr>=2?iu:tu,b=Math.floor(Math.random()*w.length),y=w[b];v([{Entity:y,Type:"Text",shouldSuppressFeedback:!0}]);r("ClientInst",i,"Conversation","text",y,"order",f.toString(),"from","BOT");f++;ao[f]=y;vo[f]=l;r("ClientInst",i,"responseLog","responseLog",JSON.stringify(ao),"retryCallTime",JSON.stringify(vo));nr>=2&&(Lib.CssClass.add(o,bc),p=_ge(si),p&&(p.disabled=!0),g&&(g.disabled=!0))}else sb_st(function(){er(n,t,u,e,s,h,c,l)},3e3+e*2e3)}function su(){return __awaiter(this,void 0,void 0,function(){var n,u,e;return __generator(this,function(o){switch(o.label){case 0:return(sa(),wt=!0,!((l===null||l===void 0?void 0:l.length)<1))?[3,1]:(wt=!1,[2]);case 1:n=!0;u=0;e=!1;o.label=2;case 2:return((l===null||l===void 0?void 0:l.length)&&n)?(MsnShared.addClass(nt,"syd_disable_mic"),!(ar<3))?[3,4]:[4,yl(l[l.length-1]).then(function(){l.pop();u=0},function(t){t===OUTPUT.NETWORK_OFFLINE?(wt=!1,n=!1,e=!0,fr("NETWORK"),ri()):t===RESULT_TO_DECISION_MAP.INTERNAL_ERROR?(u++,u===3&&(r("ClientInst",i,"BeginBotTurnRetry",u.toString(),"errorType",t),fr("BROKEN"),n=!1,f++,ii(),ri())):t===OUTPUT.RESTART?ar++:t===RESULT_TO_DECISION_MAP.INVALID_REQUEST?(n=!1,ii(),ri(),fr("ERROR")):t===OUTPUT.MAX_RETRIES_EXCEEDED?(ar++,fr("ERROR")):(ii(),ri(),f++,fr("ERROR"),n=!1)})]:[3,6];case 3:return o.sent(),[3,5];case 4:r("ClientInst",i,"errorType","MaxRepeatedRetriesExceeded","repeatedFailureCount",ar.toString());n=!1;l.length=0;wt=!1;fr("BROKEN");o.label=5;case 5:return[3,2];case 6:e||MsnShared.removeClass(nt,"syd_disable_mic");wt=!1;!t.enableMsgQueues||(l===null||l===void 0?void 0:l.length)||ii();o.label=7;case 7:return[2]}})})}function vl(){window.navigator.onLine?ls():cs();var n=navigator.connection;n.addEventListener("change",function(){var n;((n=navigator.connection)===null||n===void 0?void 0:n.rtt)?(ls(),(l===null||l===void 0?void 0:l.length)&&!wt&&su()):cs()})}function cs(){MsnShared.addClass(hi,"syd_status_inactive");MsnShared.removeClass(hi,"syd_status_active");hi.title="Offline"}function ls(){MsnShared.removeClass(hi,"syd_status_inactive");MsnShared.addClass(hi,"syd_status_active");hi.title="Online"}function fr(n){switch(n){case"REFRESH":v([{Entity:lf,Type:"Text"}]);return;case"ERROR":v([{Entity:yr[Math.floor(Math.random()*yr.length)],Type:"Text"}]);return;case"RETRY":v([{Entity:tu[Math.floor(Math.random()*tu.length)],Type:"Text"}]);return;case"BROKEN":v([{Entity:iu[Math.floor(Math.random()*iu.length)],Type:"Text"}]);return;case"NETWORK":v([{Entity:oc,Type:"Text"}]);return}}function yl(n){return __awaiter(this,void 0,void 0,function(){var u=this;return __generator(this,function(){return[2,new Promise(function(f,e){return __awaiter(u,void 0,void 0,function(){var u=this;return __generator(this,function(o){switch(o.label){case 0:return(r("ClientInst",i,"StartBotRequest"),t.ZoChatV2Url||e(!1),!(!s||c||t.enableSydneyInlineSendQuery||b||k||!(t===null||t===void 0?void 0:t.shouldTrigger)&&s||ge&&s||vr))?[3,2]:[4,pl(n).then(function(){return __awaiter(u,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,vs(n).then(function(n){f(n)},function(n){e(te(n))})];case 1:return t.sent(),[2]}})})},function(n){e(te(n))})];case 1:return o.sent(),[3,4];case 2:return[4,vs(n).then(function(n){f(n)},function(n){e(te(n))})];case 3:o.sent();o.label=4;case 4:return[2]}})})})]})})}function te(n){switch(n){case OUTPUT.RESTART:return OUTPUT.RESTART;case OUTPUT.STALE_MESSAGE:return OUTPUT.RESTART;case OUTPUT.MAX_RETRIES_EXCEEDED:return OUTPUT.MAX_RETRIES_EXCEEDED;case RESULT_TO_DECISION_MAP.INTERNAL_ERROR:return RESULT_TO_DECISION_MAP.INTERNAL_ERROR;case OUTPUT.NETWORK_OFFLINE:return OUTPUT.NETWORK_OFFLINE;default:return OUTPUT.END_CHAT}}function pl(n){return __awaiter(this,void 0,void 0,function(){var f=this;return __generator(this,function(){return[2,new Promise(function(e,o){var l=rt+ic,a=ps(n.normalizedQuery,n.userTriggered,n.sessionRefresh,n.timeoutCount,n.uquid,n.fromAlt,API.BEGIN_BOT_TURN),h=(new Date).getTime();lo.post(l,a,t.BbtTimeOut||3e3).then(function(n){return __awaiter(f,void 0,void 0,function(){var t,f;return __generator(this,function(l){switch(l.label){case 0:return[4,n.json()];case 1:return t=l.sent(),(c&&s||!u)&&(u=t===null||t===void 0?void 0:t.conversationId),t&&n.status===200&&t.result&&t.result.value?t.result.value!==RESULT.SUCCESS?(f=ie(t.result.value),o(as(f,h))):e(t):(h=(new Date).getTime()-h,r("ClientInst",i,"BadHTTPResponse","status",n.status.toString(),"statustext",n.statusText,"response",t,"timeToResponse",h.toString()),f=ie(t.result.value),o(as(f,h))),[2]}})})},function(n){if(n===OUTPUT.NETWORK_OFFLINE)o(OUTPUT.NETWORK_OFFLINE),r("ClientInst",i,"BeginbBotTurn","errorType",n,"timeToResponse",h.toString());else{h=(new Date).getTime()-h;var t=ie(n);t===OUTPUT.VALID_RESPONSE?(r("ClientInst",i,"BeginbBotTurn","errorType",OUTPUT.TIMEOUT,"timeToResponse",h.toString()),e(OUTPUT.TIMEOUT)):(r("ClientInst",i,"BeginbBotTurn","errorType","UNHANDLED","timeToResponse",h.toString()),o(OUTPUT.END_CHAT))}})})]})})}function as(n,f){return n===RESULT_TO_DECISION_MAP.INVALID_REQUEST?(r("ClientInst",i,"BeginbBotTurn","errorType","INVALID_REQUEST","timeToResponse",f.toString(),"conversationId",u||t.conversationId),RESULT_TO_DECISION_MAP.INVALID_REQUEST):n===RESULT_TO_DECISION_MAP.INTERNAL_ERROR?(r("ClientInst",i,"BeginbBotTurn","errorType","INTERNAL_ERROR","timeToResponse",f.toString(),"conversationId",u||t.conversationId),RESULT_TO_DECISION_MAP.INTERNAL_ERROR):void 0}function ie(n){r("ClientInst",i,"BeginBotTurnTimeout");switch(n){case"TIMEOUT":return"VALID_RESPONSE";case RESULT.INVALID_REQUEST:return RESULT_TO_DECISION_MAP.INVALID_REQUEST;case RESULT.INTERNAL_ERROR:return RESULT_TO_DECISION_MAP.INTERNAL_ERROR;default:f++;r("ClientInst",i,n.toString(),"conversationId",u||t.conversationId);ii();ri()}}function vs(n){return __awaiter(this,void 0,void 0,function(){var f=this;return __generator(this,function(){return[2,new Promise(function(e,o){return __awaiter(f,void 0,void 0,function(){var c,a,s,f,v,y=this;return __generator(this,function(p){switch(p.label){case 0:c=rt+rc;a=ps(n.normalizedQuery,n.userTriggered,n.sessionRefresh,n.timeoutCount,n.uquid,n.fromAlt,API.END_BOT_TURN);s=0;f=!0;v=function(){var l;return __generator(this,function(v){switch(v.label){case 0:return l=(new Date).getTime(),[4,lo.post(c,a,t.EbtTimeOut||1e4).then(function(c){return __awaiter(y,void 0,void 0,function(){var v,y,a;return __generator(this,function(p){switch(p.label){case 0:return l=(new Date).getTime()-l,[4,c.json()];case 1:return v=p.sent(),y=new EndBotTurnModel(v),wl(y)?(ge=!0,u=null,f=!1,o(OUTPUT.STALE_MESSAGE)):(a=bl(y),v&&c.status===200&&v.result&&v.result.value?(a!==RESULT_TO_DECISION_MAP.INVALID_SESSION&&(vr=!1),a===RESULT_TO_DECISION_MAP.SUCCESS?(r("ClientInst",i,"EndBotTurn","ProcessResponse","conversationId",u||t.conversationId),ys(y,n.uquid,null),f=!1,ar=0,e(y)):a===RESULT_TO_DECISION_MAP.INTERNAL_ERROR?(r("ClientInst",i,"EndbBotTurn","errorType","INTERNAL_ERROR","timeToResponse",l.toString(),"conversationId",u||t.conversationId),f=!1,o(RESULT_TO_DECISION_MAP.INTERNAL_ERROR)):a===RESULT_TO_DECISION_MAP.PROCESSING_MESSAGE?(r("ClientInst",i,"EndbBotTurn","errorType","PROCESSING_MESSAGE","timeToResponse",l.toString(),"conversationId",u||t.conversationId),s++):a===RESULT_TO_DECISION_MAP.INVALID_SESSION?(r("ClientInst",i,"EndbBotTurn","errorType","INVALID_SESSION","timeToResponse",l.toString(),"conversationId",u||t.conversationId),u=null,f=!1,vr=!0,o(RESULT_TO_DECISION_MAP.INVALID_SESSION)):(r("ClientInst",i,"EndbBotTurn","errorType","UNHANDLED","timeToResponse",l.toString(),"conversationId",u||t.conversationId),f=!1,o(OUTPUT.END_CHAT))):(a!==RESULT_TO_DECISION_MAP.INVALID_SESSION&&(vr=!1),a===RESULT_TO_DECISION_MAP.INTERNAL_ERROR?(r("ClientInst",i,"EndbBotTurn","errorType","INTERNAL_ERROR","timeToResponse",l.toString(),"conversationId",u||t.conversationId),f=!1,o(RESULT_TO_DECISION_MAP.INTERNAL_ERROR)):a===RESULT_TO_DECISION_MAP.PROCESSING_MESSAGE?(r("ClientInst",i,"EndbBotTurn","errorType","PROCESSING_MESSAGE","timeToResponse",l.toString(),"conversationId",u||t.conversationId),s++):a===RESULT_TO_DECISION_MAP.INVALID_SESSION?(r("ClientInst",i,"EndbBotTurn","errorType","INVALID_SESSION","timeToResponse",l.toString(),"conversationId",u||t.conversationId),u=null,h=!0,f=!1,vr=!0,o(RESULT_TO_DECISION_MAP.INVALID_SESSION),o(RESULT_TO_DECISION_MAP.INVALID_SESSION)):a===RESULT_TO_DECISION_MAP.INVALID_REQUEST?(r("ClientInst",i,"EndbBotTurn","errorType","INVALID_REQUEST","timeToResponse",l.toString(),"conversationId",u||t.conversationId),f=!1,o(RESULT_TO_DECISION_MAP.INVALID_REQUEST)):(r("ClientInst",i,"EndbBotTurn","errorType","UNHANDLED","timeToResponse",l.toString(),"conversationId",u||t.conversationId),f=!1,o(OUTPUT.END_CHAT)))),[2]}})})},function(n){l=(new Date).getTime()-l;n===OUTPUT.NETWORK_OFFLINE?(f=!1,o(OUTPUT.NETWORK_OFFLINE),r("ClientInst",i,"EndbBotTurn","errorType",n,"timeToResponse",l.toString())):n===OUTPUT.TIMEOUT?(s++,r("ClientInst",i,"EndbBotTurn","errorType","TIMEOUT","timeToResponse",l.toString(),"retryCount",s.toString(),"errorObj",n===null||n===void 0?void 0:n.toString(),"conversationId",u||t.conversationId)):(f=!1,r("ClientInst",i,"EndbBotTurn","errorType","UNHANDLED","timeToResponse",l.toString(),"retryCount",s.toString(),"errorObj",n===null||n===void 0?void 0:n.toString(),"conversationId",u||t.conversationId),f=!1,o(OUTPUT.END_CHAT))})];case 1:return v.sent(),f=f&&s<3,[2]}})};p.label=1;case 1:return f?[5,v()]:[3,3];case 2:return p.sent(),[3,1];case 3:return s>2&&(l.length=0,r("ClientInst",i,"EndbBotTurn","errorType","MAX_RETRIES_EXCEEDED"),o(OUTPUT.MAX_RETRIES_EXCEEDED)),[2]}})})})]})})}function wl(n){for(var u,f,i=n===null||n===void 0?void 0:n.messages[((u=n===null||n===void 0?void 0:n.messages)===null||u===void 0?void 0:u.length)-1],t,r=a.length-1;r>=0;r--)if(((f=a[r])===null||f===void 0?void 0:f.author)===MESSAGE_AUTHOR.BOT){t=a[r];break}return!t||!i?!1:(t===null||t===void 0?void 0:t.messageId)===(i===null||i===void 0?void 0:i.messageId)}function bl(n){var t,i=(t=n===null||n===void 0?void 0:n.result)===null||t===void 0?void 0:t.value;switch(i){case RESULT.SUCCESS:return RESULT_TO_DECISION_MAP.SUCCESS;case RESULT.INVALID_REQUEST:return RESULT_TO_DECISION_MAP.INVALID_REQUEST;case RESULT.INTERNAL_ERROR:return RESULT_TO_DECISION_MAP.INTERNAL_ERROR;case RESULT.INVALID_SESSION:return RESULT_TO_DECISION_MAP.INVALID_SESSION;case RESULT.PROCESSING_MESSAGE:return RESULT_TO_DECISION_MAP.PROCESSING_MESSAGE;default:return}}function ys(n,i,r){var h,e;i===void 0&&(i="");r===void 0&&(r=null);e=r?r:n;hf=e.conversationExpiryTime;u=e.conversationId;var f=e.messages,o=e.firstNewMessageIndex,c=o>0?f[o-1]:ye;a=a.concat(f);kl(c);dl(e);gl(n.messages,o,c);ra();t.enableSmartReply&&oe();i!=""&&(f===null||f===void 0?void 0:f.length)>=o&&((h=f[o])===null||h===void 0?void 0:h.spokenText)&&sh(f[o].spokenText,i);s&&w&&yh();s=!1}function kl(n){if(yt=(n===null||n===void 0?void 0:n.offense)==OFFENSE_CATEGORIES.OFFENSIVE||(n===null||n===void 0?void 0:n.offense)==OFFENSE_CATEGORIES.OFFENSE_RESPONSE||(n===null||n===void 0?void 0:n.offense)==OFFENSE_CATEGORIES.BLOCKLIST?yt+1:0,t.blockOnMultFate&&yt==3)sj_cook.set(eu,pf,(new Date).getTime().toString(),!0,"/",1440),ri(),eh(),ii(),r("ClientInst",i,"DisabledByFate")}function dl(n){var h,c,f,e,o,l;s&&(r("ClientInst",i,"getZoChatFirstRequest"),r("ClientInst",i,"ConvoId","cid",u),sj_evt.fire("clarity.trigger","sydneychatbot"),h=sj_cook.get(ru,af),h||(c=_ge(wi),MsnShared.addClass(c,"ev_tb_first")));s&&w&&(r("ClientInst",i,"FirstReqPreTrig"),n.shouldInitiateConversation||!t.enableSydneyStaticBid||t.enableSydneyInlineSendQuery||(t.enableDelighterForceMax?ve():(!dt||t.blockOverlay)&&yi(),s=!1,d=!1,f=n===null||n===void 0?void 0:n.messages[1],e=f.text?f.text:f.hiddenText,t.disableMaxTrigger||t.enableMinimize||t.enableClose?uh(e):(lu(e,!1),o=_ge("ev_talkbox_cont"),o&&Lib.CssClass.add(o,"ev_zo_first_max_triggered")),(!dt||t.blockOverlay)&&yi(),vt?(l=_G.BPT?(new Date).getTime()-_G.BPT.getTime():-1,r("ClientInst",i,"MinimizedByFate"),r("ClientInst",i,"Triggered","isMinimized",d.toString(),"timeSinceLoad",l.toString()),bi=!0):r("ClientInst",i,"FirstReqNotVis")))}function gl(n,u,e){for(var ft,o,et,h,a,p,c,ot,st,b,it,rt,ut,k,d,l=u;l<n.length;l++){ft=((k=n[l-1])===null||k===void 0?void 0:k.author)===MESSAGE_AUTHOR.USER&&((d=n[l-1])===null||d===void 0?void 0:d.offense)===OFFENSE_CATEGORIES.OFFENSIVE;o=n[l];ua(n[l],ft,o);l!=u&&y++;var g=t.enableSyd1stLink?o.linkUrl!=null:!(s&&w)&&o.linkUrl,nt=g&&o.sourceUrl,tt="";if(o.scores&&o.scores.length>0&&o.scores[0].component&&(et=o.scores[0].component.indexOf("_"),et>=0&&(tt=o.scores[0].component.split("_")[1].toLowerCase())),h=[],o.adaptiveCards){if(t.allowAdaptiveCard)h.push({Entity:o.adaptiveCards[0],Type:"Card"}),r("ClientInst",i,"Conversation","text","AdaptiveCard","order",f.toString(),"from","BOT");else if(!t.blockAdaptiveCardWorkaround&&hh(o.adaptiveCards)){for(a=o.adaptiveCards[0].body,p=0;p<a.length;p++){if(h=[],c=a[p],c.type=="Container"){a.push.apply(a,c.items);continue}c.type=="Image"?h.push({Entity:c.url,Type:"Image"}):c.type=="TextBlock"&&h.push({Entity:c.text,Type:"Text"});o.messageId&&p!=a.length-1&&h.push({Entity:o.messageId,Type:"ID"});h.length&&(p!=a.length-1&&(v(h,!0,tt),y++),ot=c.type=="Image"?"{"+c.url+"}":c.text,r("ClientInst",i,"Conversation","text",ot,"order",f.toString(),"from","BOT"))}f++}}else o.text&&(o.text.includes("@failover_hyperlink")&&(o.rewrittenMessage||(e===null||e===void 0?void 0:e.text))?(r("ClientInst",i,"FATELink"),st={text:o.text,userQuery:o.rewrittenMessage?o.rewrittenMessage:e.text},h.push({Entity:st,Type:"ReplaceLink"}),r("ClientInst",i,"Conversation","text",o.text,"order",f.toString(),"from","BOT"),f++,ci=!0,sb_st(br,fu)):(h.push({Entity:o.text,Type:"Text"}),b=o.text,g&&(b+=nt?"(See More)":"(Learn More)",b+="["+o.linkUrl+"]",nt?r("ClientInst",i,"QnALink"):r("ClientInst",i,"SkillLink")),r("ClientInst",i,"Conversation","text",b,"order",f.toString(),"from","BOT"),f++,o.text.startsWith("Error parsing")&&r("ClientInst",i,"BotErrorMessage"),no.test(o.text)&&r("ClientInst",i,"BotApology"),!t.enableSydneyStaticBid&&s&&w&&(it=_ge("b_sydin_mtin"),it&&(it.innerText=o.text),rt=_ge("b_sydin_mintext"),rt&&Lib.CssClass.add(rt,"b_mtanim")))),ut=ia(o,g,nt),ut?h.push(ut):null;o.messageId&&h.push({Entity:o.messageId,Type:"ID"});ta(u,h,l,tt);na(o)}}function na(n){var u,i,r,f;if(t.enableAsyncMessages&&n.messageStreams)for(u=function(n){var t=new URL(n.url),i;t.searchParams.set("requestId",gh());t.searchParams.set("baseServiceUrl",rt);y++;ti();i=new EventSource(t.toString());i.onmessage=function(n){var t=JSON.parse(n.data),r;t.messages&&(r={result:{value:"Success"},firstNewMessageIndex:0,messages:t.messages,conversationId:t.conversationId},ys(null,"",r));t.stopListening?i.close():(y++,ti())}},i=0,r=n.messageStreams;i<r.length;i++)f=r[i],u(f)}function ta(n,i,r,u){var e,f,o;t.multMessageDelay!=0&&r!=n?(ti(),sb_st(function(){v(i,!0,u);var n=_d.querySelector(".ev_mw_bot:last-child .ev_zo_msg"),r=n?n:_d.querySelector(".ev_msg_wrapper:nth-last-child(2) .ev_zo_msg");t.enableAutoShowFeedback&&pi(r)},t.multMessageDelay)):t.singleMessageDelay!=0?(e=Math.floor(Math.random()*200+t.singleMessageDelay),sb_st(function(){v(i,!0,u);var n=_d.querySelector(".ev_mw_bot:last-child .ev_zo_msg"),r=n?n:_d.querySelector(".ev_msg_wrapper:nth-last-child(2) .ev_zo_msg");t.enableAutoShowFeedback&&pi(r)},e)):(v(i,!0,u),f=_d.querySelector(".ev_mw_bot:last-child .ev_zo_msg"),o=f?f:_d.querySelector(".ev_msg_wrapper:nth-last-child(2) .ev_zo_msg"),t.enableAutoShowFeedback&&pi(o))}function ia(n,u,f){return u?(r("ClientInst",i,"SeeMoreAttr"),ci=!0,sb_st(br,fu),t.enableExternalLink?f?{Entity:n.sourceUrl,Type:"SeeMore"}:{Entity:n.linkUrl,Type:"LearnMore"}:{Entity:n.linkUrl,Type:f?"SeeMore":"LearnMore"}):null}function ra(){t.blockOnMultFate&&yt==2&&fh()}function ua(n,t,u){if(t===void 0&&(t=!1),r("ClientInst",i,"ServiceHistory","type",n.contentOrigin),s&&w&&u.linkUrl&&r("ClientInst",i,"1stLink"),(n===null||n===void 0?void 0:n.author)===MESSAGE_AUTHOR.BOT)switch(n===null||n===void 0?void 0:n.contentOrigin){case CONTENT_ORIGIN.ANNRULES:r("ClientInst",i,"AnnHit");(n===null||n===void 0?void 0:n.offense)===OFFENSE_CATEGORIES.OFFENSE_RESPONSE&&r("ClientInst",i,"AnnHitOffensive");break;case CONTENT_ORIGIN.NLU:(t||(n===null||n===void 0?void 0:n.offense)!==OFFENSE_CATEGORIES.OFFENSE_RESPONSE&&(n===null||n===void 0?void 0:n.contentOrigin)===CONTENT_ORIGIN.NLU)&&r("ClientInst",i,"NluOffense");break;case CONTENT_ORIGIN.QNA:r("ClientInst",i,"QnA");break;case CONTENT_ORIGIN.CHITCHAT:r("ClientInst",i,"ChitChat")}}function ps(n,i,r,f,o,s,l){var a,p,it,v,w,d,rt,g;r===void 0&&(r=!1);f===void 0&&(f=0);o===void 0&&(o="");s===void 0&&(s=!1);var nt=new URLSearchParams(_w.location.href),tt=nt.get("FORM")||nt.get("form"),y={MachineName:t.machineName,url:t.url,formcode:tt!==null?tt:""};return r&&(y.sessionRefresh=!0),f>0&&(y.retry=f),e&&(y.displayType=c?"SuperMax":"Inline"),a={traceId:t.traceId,message:{text:n,timestamp:fi()},source:i?"user":"serpQuery",messageType:i?"Chat":"SearchQuery",ClientInfo:y,flightString:t.flightString,isStartOfSession:h},s&&h&&l===API.BEGIN_BOT_TURN&&(p=hu(),p.length>0&&(a.previousMessages=p)),l===API.BEGIN_BOT_TURN&&(s&&h&&!(t.enableSydneyInlineSendQuery&&!t.enableSydneyStaticBid&&!c&&!b&&!k)||typeof u=="undefined"||!u||(a.conversationId=u)),l===API.END_BOT_TURN&&u&&typeof(u!=="undefined")&&(a.conversationId=u,h=!1),l===API.END_BOT_TURN&&(h=!1),_G.Lang&&(a.message.locale=_G.Lang),_G.Mkt&&(a.message.market=_G.Mkt),_G.Region&&(a.message.region=_G.Region),t.longitude!=""&&t.latitude!=""&&(it="lat:"+t.latitude+";long:"+t.longitude+";re=1000m;",a.location=it),v=t.sydBEFeatures,t.enableConvoIdMsg&&(w=new URLSearchParams(_w.location.search),d=w.get(rr),d&&(rt=JSON.parse(d),a.options=rt),g=w.get(ur),g&&(v=g)),s&&(v=v==""?"nocache":v+",nocache"),v!=""&&(a.optionsSets=v.split(",")),a.sliceIds=ui(),__assign({},a)}function er(n,o,s,l,a,y,p,w,k){var ft,et,g,nt,ot,st,ht,wt,tt,ct,lt,bt,at;if(s===void 0&&(s=!1),l===void 0&&(l=0),a===void 0&&(a=""),y===void 0&&(y=!1),p===void 0&&(p=Date.now()),w===void 0&&(w=[]),k===void 0&&(k={}),r("ClientInst",i,"StartBotRequest"),t.ZoChatV2Url){var it=(new Date).getTime(),d=sj_gx(),kt=rt+t.ZoChatV2Url,vt=h;d.open("POST",kt,!0);sj_be(d,"readystatechange",function(){if(d.readyState==4){it=(new Date).getTime()-it;var u=!1;d.status==200&&d.responseText?(u=he(d.responseText,n,a,null),u||t.enableSydneyTimeoutRetry||(h=h||vt,hs(n,o,s,l,a,y,p,w))):d.status==0?r("ClientInst",i,"BadHTTPResponse","status",d.status.toString(),"statustext",d.statusText,"response",d.response,"timeToResponse",it.toString()):d.status!=200&&r("ClientInst",i,"BadHTTPResponse","status",d.status.toString(),"statustext",d.statusText,"response",d.response,"timeToResponse",it.toString());u||(t.enableSydRetry&&t.enableSydneyTimeoutRetry?(h=h||vt,hs(n,o,s,l,a,y,p,w)):ii());u&&r("ClientInst",i,"getZoChatBySendText","timeTaken",it.toString(),"timeToResponse",((new Date).getTime()-it).toString(),"TimeoutCount",l.toString())}});t.enableSydRetry&&(d.timeout=t.sydRetryTimeout,sj_be(d,"timeout",function(){if(d.abort(),r("ClientInst",i,"TimeoutAbort"),!t.enableSydneyTimeoutRetry){var n=++nr>=2?iu:tu,u=Math.floor(Math.random()*n.length);v([{Entity:n[u],Type:"Text"}]);r("ClientInst",i,"Conversation","text",n[u],"order",f.toString(),"from","BOT");f++}}));var yt=new URLSearchParams(_w.location.href),pt=yt.get("FORM")||yt.get("form"),ut={MachineName:t.machineName,url:t.url,formcode:pt!==null?pt:""};if(s&&(ut.sessionRefresh=!0),l>0&&(ut.retry=l),e&&(ut.displayType=c?"SuperMax":"Inline"),t.featuresString!=""&&(ut.features=t.featuresString),g={traceId:t.traceId,message:{text:n,timestamp:fi()},source:o?"user":"serpQuery",messageType:o?"Chat":"SearchQuery",ClientInfo:ut,flightString:t.flightString,isStartOfSession:h},k!==null&&typeof k=="object"&&((ft=Object.keys(k))===null||ft===void 0?void 0:ft.length)>0)for(nt in k)if(k[nt]!==null)if(g.hasOwnProperty(nt))if(k[nt]!==null&&typeof k[nt]=="object"&&((et=Object.keys(k))===null||et===void 0?void 0:et.length)>0){ot=k[nt];for(st in ot)g[nt][st]=ot[st]}else g[nt]=k[nt];else g[nt]=k[nt];y&&h&&(ht=hu(),ht.length>0&&(g.previousMessages=ht));y&&h&&!(t.enableSydneyInlineSendQuery&&!t.enableSydneyStaticBid&&!c&&!b)||typeof u=="undefined"||!u||(g.conversationId=u);h=!1;_G.Lang&&(g.message.locale=_G.Lang);_G.Mkt&&(g.message.market=_G.Mkt);_G.Region&&(g.message.region=_G.Region);t.longitude!=""&&t.latitude!=""&&(wt="lat:"+t.latitude+";long:"+t.longitude+";re=1000m;",g.message.location=wt);tt=t.sydBEFeatures;t.enableConvoIdMsg&&(ct=new URLSearchParams(_w.location.search),lt=ct.get(rr),lt&&(bt=JSON.parse(lt),g.options=bt),at=ct.get(ur),at&&(tt=at));y&&(tt=tt==""?"nocache":tt+",nocache");tt!=""&&(g.optionsSets=tt.split(","));g.sliceIds=ui();d.setRequestHeader("Content-Type","application/json");d.send(JSON.stringify(g))}}function hu(){var i,n,t;if(b||k)return ou;if(i=[],e)for(n=e.querySelectorAll(".syd_fm"),t=0;t<(n===null||n===void 0?void 0:n.length);t++)i.push({text:n[t].innerText,author:"bot"});return i}function v(n,t,i){var h,u,r,f,o,c,s;if(t===void 0&&(t=!0),i===void 0&&(i=""),t&&y--,n&&n.length>0&&(h=_ge(it),h))for(u=e?[e]:[h],r=0;r<u.length;r++)u[r]!=null&&(f=MsnShared.getElementsByClassName("ev_zo_typing","div",u[r]),f&&f.length>0?y==0?(o=f[0],o.innerHTML="",ws(o,n),MsnShared.removeClass(o,"ev_zo_typing"),c=ee(i),c&&MsnShared.addClass(o.parentElement,c)):(s=gt("",!0,!1,n,!1,u[r],i),u[r].insertBefore(s,f[0].parentElement)):(s=gt("",!0,!1,n,!1,u[r],i),u[r].appendChild(s)),u[r].scrollTop=u[r].scrollHeight)}function gt(n,i,r,u,f,e,o){var a,p,h,v,l,y,c,w,s;return(f===void 0&&(f=!1),o===void 0&&(o=""),r&&(a=MsnShared.getElementsByClassName("ev_zo_typing","div",e),a&&a.length>0))?null:(p=ee(o),h=sj_ce("div",null,"ev_msg_wrapper"+(i?" ev_mw_bot":"")+(p?" "+ee(o):"")),i?(v=sj_ce("div",null,"ev_zo_img_bg"),c=sj_ce("div",t.enableSydQnAExcited?"ev_zo_img":null,t.enableSydQnAOrbIcon||t.enableSydWrapIcon?"ev_zo_img ev_zo_orb_icon":"ev_zo_img"+vu(!0)),v.appendChild(c),h.appendChild(v)):(l=typeof Identity!="undefined"&&Identity.wlProfile&&Identity.wlProfile(),l&&l.img?(y=sj_ce("img",null,"ev_my_img"),y.src=l.img,h.appendChild(y)):(c=sj_ce("div",null,"ev_my_img"),h.appendChild(c))),w=i?"ev_zo_msg":"ev_my_msg",s=sj_ce("div",null,w),r?(s.innerHTML=(f?"Listening nbsp; ":"")+"<span><\/span><span><\/span><span><\/span>",MsnShared.addClass(s,"ev_zo_typing")):i&&u&&u.length>0?ws(s,u):s.innerText=n,!r&&i&&t.enableFeedback&&s.appendChild(ch()),h.appendChild(s),h)}function re(n){try{new URL(n)}catch(t){return!1}return!0}function ue(n){var t=n.render();return t.cloneNode(!0)}function fa(n){var e=n===null||n===void 0?void 0:n.querySelectorAll("a"),s,o,u,f,h;if((e===null||e===void 0?void 0:e.length)>0){for(s=0,o=0;o<e.length;o++)u=e[o],f=u===null||u===void 0?void 0:u.innerText,re(u.href)&&(f===null||f===void 0?void 0:f.length)>2&&f[0]=="["&&f[f.length-1]=="]"&&(s++,t.enableExternalLink&&(h=b?_ge(wf).getAttribute("data-exlk"):t.instrumentedExternalLinkId,u.setAttribute("h","ID="+h+".1")),u.addEventListener("click",function(){t.enableExternalLink||at(t.enableUnlimitedClicks?!0:!1);r(t.enableUtilityLog?"Click":"ClientInst",i,"LearnMoreClick")}));r("ClientInst",i,"LearnMoreRender","Count",s.toString())}}function ws(n,f){for(var h,bi,y,yi,wi,w,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,vt,yt,pt,wt,bt,kt,dt,gt,ni,ti,ii,ri,ui,fi,ei,oi,si,hi,v="",l="",ki=function(){var h,yi,b,pi,wi,bi,y;e=f[vi];e.Entity&&(e.Type=="Card"?(s=new AdaptiveCards.AdaptiveCard,s.hostConfig=new AdaptiveCards.HostConfig({spacing:{padding:1},imageSizes:{large:60},fontSizes:{small:12,extraLarge:16,"default":13}}),((nt=(g=(d=(k=(w=e===null||e===void 0?void 0:e.Entity)===null||w===void 0?void 0:w.body)===null||k===void 0?void 0:k[0])===null||d===void 0?void 0:d.items)===null||g===void 0?void 0:g[0])===null||nt===void 0?void 0:nt.type)=="TextBlock"&&(e.Entity.body[0].items[0].wrap=!0),((ut=(rt=(it=(tt=e===null||e===void 0?void 0:e.Entity)===null||tt===void 0?void 0:tt.body)===null||it===void 0?void 0:it[0])===null||rt===void 0?void 0:rt.items)===null||ut===void 0?void 0:ut.length)===3&&(e.Entity.body[0].items[2].maxLines=6),((ot=(et=(ft=e===null||e===void 0?void 0:e.Entity)===null||ft===void 0?void 0:ft.body)===null||et===void 0?void 0:et[0])===null||ot===void 0?void 0:ot.id)==="ev-zo-video-card-container"&&(e.Entity.body[0].items[2].items[0].maxLines=3,e.Entity.body[0].items[2].items[0].wrap=!0),s.parse(e.Entity),h=void 0,((ct=(ht=(st=e===null||e===void 0?void 0:e.Entity)===null||st===void 0?void 0:st.body)===null||ht===void 0?void 0:ht[0])===null||ct===void 0?void 0:ct.id)==="ev-zo-video-card-container"?(h=ue(s),yi=e.Entity.body[0].selectAction.url,re(yi)&&(sj_be(h,"click",function(){r("ClientInst",i,"VideoAdaptiveCardClicked");window.open(yi,"_blank").focus()}),h.classList.add("ev_zo_card_clickable")),n.classList.add("ev_zo_videoCard")):((wt=(pt=(yt=(vt=(lt=e===null||e===void 0?void 0:e.Entity)===null||lt===void 0?void 0:lt.body)===null||vt===void 0?void 0:vt[0])===null||yt===void 0?void 0:yt.items)===null||pt===void 0?void 0:pt[0])===null||wt===void 0?void 0:wt.id)=="ev_nav_card_title"||((ni=(gt=(dt=(kt=(bt=e===null||e===void 0?void 0:e.Entity)===null||bt===void 0?void 0:bt.body)===null||kt===void 0?void 0:kt[0])===null||dt===void 0?void 0:dt.items)===null||gt===void 0?void 0:gt[1])===null||ni===void 0?void 0:ni.id)=="ev_nav_card_link"?(h=ue(s),c||h.classList.add("syd_rin_ac"),b=(fi=(ui=(ri=(ii=(ti=e===null||e===void 0?void 0:e.Entity)===null||ti===void 0?void 0:ti.body)===null||ii===void 0?void 0:ii[0])===null||ri===void 0?void 0:ri.items)===null||ui===void 0?void 0:ui[1])===null||fi===void 0?void 0:fi.text,h&&re(b)&&(pi=h.querySelector("#ev_nav_card_title"),pi&&sj_be(pi,"click",function(){r(t.enableUtilityLog?"Click":"ClientInst",i,"NavSerpAdaptiveCardHeaderClicked");at();window.open(b,"_blank").focus()}),wi=h.querySelector("#ev_nav_card_link"),wi&&sj_be(wi,"click",function(){r(t.enableUtilityLog?"Click":"ClientInst",i,"NavSerpAdaptiveCardSubHeaderClicked");at();window.open(b,"_blank").focus()})),sj_be(h,"click",function(n){var u,f,e=(f=(u=n===null||n===void 0?void 0:n.target)===null||u===void 0?void 0:u.closest("div"))===null||f===void 0?void 0:f.id;e&&r(t.enableUtilityLog?"Click":"ClientInst",i,"NavSerpClickSource","text",e);at()})):h=((hi=(si=(oi=(ei=e===null||e===void 0?void 0:e.Entity)===null||ei===void 0?void 0:ei.body)===null||oi===void 0?void 0:oi[0])===null||si===void 0?void 0:si.items)===null||hi===void 0?void 0:hi.length)===1?ue(s):s.render(),bi=h.querySelector("img"),bi&&sj_be(bi,"load",function(){p.scrollTop=p.scrollHeight}),fa(h),n.appendChild(h)):e.Type=="Text"?(o=sj_ce("span",null,"b_syd_entity_text"),o.innerText=e.Entity,e.shouldSuppressFeedback&&n.setAttribute("suppressFeedback","true"),n.appendChild(o)):e.Type=="ReplaceLink"?(o=sj_ce("span"),ci=e.Entity.text.split("@failover_hyperlink"),li=sj_ce("span"),li.innerText=ci[0],ai=sj_ce("span"),ai.innerText=ci[1],a=sj_ce("a"),a.textContent="Bing.com",a.target="_blank",a.href="/?q="+e.Entity.userQuery,sj_be(a,"click",function(){r(t.enableUtilityLog?"Click":"ClientInst",i,"FATELinkClicked");at(t.enableUnlimitedClicks?!0:!1)}),o.appendChild(li),o.appendChild(a),o.appendChild(ai),n.appendChild(o)):e.Type==="SeeMore"?(l="see more",v=e.Entity):e.Type==="LearnMore"?(l="Learn more",v=e.Entity):e.Type=="ID"?(n.setAttribute("mid",e.Entity),t.disableFeedbackBubble&&n.setAttribute("cid",u)):e.Type=="Image"?(y=sj_ce("img"),MsnShared.addClass(n,"b_syd_gif"),yu(),n.appendChild(y),y.width=180,sj_be(y,"load",function(){p.scrollTop=p.scrollHeight}),y.src=e.Entity):e.Type=="ConversationURL"&&(l=e.Entity,v=e.conversationUrl))},e,s,o,ci,li,ai,a,vi=0;vi<f.length;vi++)ki();v!==""&&(h=sj_ce("a",null,"b_ev_sm"),h.href=v,h.innerText=l,h.target="_blank",t.enableExternalLink&&(bi=b?_ge(wf).getAttribute("data-exlk"):t.instrumentedExternalLinkId,h.setAttribute("h","ID="+bi+".1")),sj_be(h,"click",function(){r(t.enableUtilityLog?"Click":"ClientInst",i,"SatClickInBot");l==="see more"?r("ClientInst",i,"QnALinkClicked"):l==="Learn more"&&r("ClientInst",i,"SkillLinkClicked");t.enableExternalLink||at(t.enableUnlimitedClicks?!0:!1);sj_cook.set(yf,"CBHide","1",!1)}),y=sj_ce("span",null,"b_see_more_link_wrapper"),yi=sj_ce("span",null,null),e.Type!="ConversationURL"&&(yi.innerText="["),wi=sj_ce("span",null,null),e.Type!="ConversationURL"&&(wi.innerText="]"),y.appendChild(yi),y.appendChild(h),y.appendChild(wi),n.appendChild(y));sj_be(n,"mouseover",function(n){pi(n.target)});sj_be(n,"mouseout",function(n){le(n.target)})}function ni(){return((1+Math.random())*65536|0).toString(16).substring(1)}function cu(){return(ni()+ni()+ni()+ni()+ni()+ni()+ni()+ni()).toLowerCase()}function yi(){t.blockOverlay||(r("ClientInst",i,"TryShowBot"),vt?r("ClientInst",i,"AlreadyVis"):(r("ClientInst",i,"Viewport","height",_w.innerHeight.toString(),"width",_w.innerWidth.toString()),MsnShared.show(o),vt=!0,r("ClientInst",i,"ShowBot")))}function ti(){var r=_ge(it),t,n,i;if(r)for(t=e?[e]:[r],n=0;n<t.length;n++)i=gt("",!0,!0,"",!1,t[n]),i&&(t[n].appendChild(i),t[n].scrollTop=t[n].scrollHeight)}function ii(){var r,u,i,n;if(y--,(y==0||t.enableMsgQueues)&&(r=_ge(it),r))for(u=e?[e]:[r],i=0;i<u.length;i++)n=MsnShared.getElementsByClassName("ev_zo_typing","div",u[i]),n&&n.length>0&&n[0].parentElement.parentElement.removeChild(n[0].parentElement)}function fe(n){var f,e,u;et||(f=_ge("ev_talkbox_max"),e=_ge(oi),f&&e&&(d=!1,MsnShared.removeClass(o,ku),MsnShared.show(f),MsnShared.hide(e),MsnShared.hide(_ge("ev_hook")),MsnShared.hide(_ge("ev_chat_declare")),MsnShared.removeClass(o,"ev_preview"),u=_ge(it),u&&(u.scrollTop=u.scrollHeight,n&&(au(uu),MsnShared.hasClass(o,ir)&&MsnShared.removeClass(o,ir),at(),r(t.enableUtilityLog?"Show":"ClientInst",i,"maximizeZo")))))}function lu(n,t){var u,f,e;if(!et){if(_w.innerWidth<600){r("ClientInst",i,"TooSmallForPreview");return}u=_ge("ev_hook");f=_ge(oi);u&&f&&(d=!1,yu(),MsnShared.removeClass(o,ku),MsnShared.addClass(o,"ev_preview"),_ge("ev_hook_header_text_reply").textContent=n.length>=100?n.substring(0,100)+"...":n,MsnShared.show(u),MsnShared.hide(f),e=_ge(it),p&&(e.scrollTop=e.scrollHeight,t&&(au(uu),MsnShared.hasClass(o,ir)&&MsnShared.removeClass(o,ir),r("ClientInst",i,"preview"))))}}function ft(n){n===void 0&&(n=!1);var u=_ge("ev_talkbox_max"),f=_ge(oi);u&&f&&(et&&oh(),d=!0,MsnShared.addClass(o,ku),MsnShared.hide(u),MsnShared.hide(_ge("ev_hook")),MsnShared.show(f),MsnShared.show(_ge("ev_chat_declare")),MsnShared.removeClass(o,"ev_preview"),au(io),n&&r(t.enableUtilityLog?"Hide":"ClientInst",i,"minimizeZo"))}function pr(){var i=new Date,n=i.getHours(),r=i.getMinutes(),t=n<12?" AM":" PM";n==0?n=12:n>12&&(n-=12);t=n+" : "+ot(r)+t;nc=t}function ot(n){return n<10?"0"+n:n}function au(n){n==uu||n==io?sj_cook.set(ru,af,n):sj_cook.clear(ru)}function bs(){return typeof Log!="undefined"&&Log!==null&&typeof Log.Log!="undefined"}function ea(){function d(n,t){if(n===null||n===void 0?void 0:n.path)for(var i=0;i<n.path.length;i++)if(n.path[i].id==t)return!0;return!1}function ii(n){if(fe(!0),d(n,"ev_hook_send_voice")){r("ClientInst",i,"maximizeMicClick");bu(n);return}}var c,yt,ri,pt,wt,g,dt,gt,fi,f,n,e,rt,l,a,ai,ot,v,lt,ni,y,pi,at;li=sj_ce("div","ev_talkbox_max",t.altIconClass==="syd_anth1|syd_anth2|syd_anth3|syd_anth4"?"b_hide ev_zo_anthro":"b_hide");var w=sj_ce("div","ev_talkbox_max_container"),b=sj_ce("div","ev_hook","b_hide"),h=sj_ce("div","ev_hook_header","ev_hook_header"),wi=sj_ce("div","ev_hook_header_img","ev_hook_header_img"+vu(!0)),nr=sj_ce("div","ev_hook_header_isRead","ev_hook_header_isRead"),k=sj_ce("div","ev_hook_header_text","ev_hook_header_text"),ti=sj_ce("div","ev_hook_header_text_title","ev_hook_header_text_title"),bi=sj_ce("div","ev_hook_header_text_reply","ev_hook_header_text_reply"),s,vt;t.enableMinimize||t.disableMaxTrigger?s=sj_ce("div","ev_hook_header_minimize","ev_hook_header_minimize"):t.enableClose?(vt=sj_ce("div","ev_hook_header_max_minimize","ev_hook_header_minimize"),s=sj_ce("div","ev_hook_header_close","ev_hook_header_close")):s=sj_ce("div","ev_hook_header_close","ev_hook_header_close");s.tabIndex=0;c=sj_ce("div","ev_hook_send","ev_hook_send");c.tabIndex=0;sj_be(b,"click",function(n){if(d(n,"ev_hook_header_close")){ft(!0);(t.enableMinimize||t.disableMaxTrigger||t.enableClose)&&pu();return}if(d(n,"ev_hook_header_minimize")||d(n,"ev_hook_header_max_minimize")){ft(!0);return}ii(n);document.getElementById("ev_send_text").focus()});sj_be(c,"keydown",function(n){n.code=="Enter"&&(ii(n),document.getElementById("ev_send_text").focus())});sj_be(vt,"click",function(){ft(!0)});sj_be(s,"keydown",function(n){(n.code=="Enter"||n.code=="Escape")&&(ft(!0),(t.enableMinimize||t.disableMaxTrigger||t.enableClose)&&pu())});yt=sj_ce("div","ev_hook_send_input","ev_hook_send_input");ri=sj_ce("div","ev_hook_send_input_placeholder","ev_hook_send_input_placeholder");yt.appendChild(ri).textContent=t.placeHolder;gi&&gi.length>23&&(ti.style.fontSize="14px");k.appendChild(ti).textContent=gi;k.appendChild(bi);h.appendChild(wi);h.appendChild(k);t.enableClose&&h.appendChild(vt);h.appendChild(s);c.appendChild(yt);t.enableVoice&&(pt=sj_ce("div","ev_hook_send_voice","ev_hook_send_voice"),pt.innerHTML='<svg width="10" height="14" viewBox="0 0 10 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n                                            <path d="M9.16659 6.33337C9.41972 6.33337 9.62892 6.52151 9.66205 6.76551L9.66659 6.83337V7.16671C9.66659 9.53964 7.82992 11.4836 5.50059 11.6545L5.49992 13.1667C5.49992 13.4428 5.27605 13.6667 4.99992 13.6667C4.74679 13.6667 4.53759 13.4786 4.50445 13.2346L4.49992 13.1667V11.6546C2.22207 11.4878 0.415138 9.62537 0.335958 7.32424L0.333252 7.16671V6.83337C0.333252 6.55724 0.557112 6.33337 0.833252 6.33337C1.08639 6.33337 1.29558 6.52151 1.32869 6.76551L1.33325 6.83337V7.16671C1.33325 9.05137 2.82289 10.5881 4.68899 10.6638L4.83325 10.6667H5.16659C7.05125 10.6667 8.58799 9.17711 8.66365 7.31097L8.66659 7.16671V6.83337C8.66659 6.55724 8.89045 6.33337 9.16659 6.33337ZM4.99992 0.333374C6.47265 0.333374 7.66659 1.52728 7.66659 3.00004V7.00004C7.66659 8.47277 6.47265 9.66671 4.99992 9.66671C3.52716 9.66671 2.33325 8.47277 2.33325 7.00004V3.00004C2.33325 1.52728 3.52716 0.333374 4.99992 0.333374Z" fill="#6165A1"/>\n                                       <\/svg>',k.appendChild(pt));b.appendChild(h);b.appendChild(c);var u=sj_ce("div","ev_tb_header","ev_tb_header"),ui=sj_ce("div",null,"ev_icon_header"),ki=sj_ce("div",t.altIconClass==="syd_anth1|syd_anth2|syd_anth3|syd_anth4"?"ev_zo_anthro":null,"ev_zo_img");ui.appendChild(ki);u.appendChild(ui);wt=sj_ce("div","ev_tb_short_text",null);wt.innerText=gi;u.appendChild(wt);t.enableMsgQueues&&u.appendChild(hi);g=sj_ce("div",null,"ev_tb_long_text");dt=sj_ce("span","ev_tb_long_text_intro",null);dt.innerText=t.headerLongIntro;g.appendChild(dt);gt=sj_ce("span","ev_tb_long_text_body",null);gt.innerText=t.headerLongBody;g.appendChild(gt);u.appendChild(g);fi=sj_ce("div","ev_tb_img",vu(!1,!0));u.appendChild(fi);f=sj_ce("span","ev_tb_maxclose","ev_tb_close");f.tabIndex=0;f.setAttribute("aria-label","close");f.setAttribute("role","button");n=sj_ce("span","ev_tb_minimize","ev_tb_minimize");n.tabIndex=0;n.setAttribute("aria-label","minimize");n.setAttribute("role","button");var tt=sj_ce("span",null,"ev_tb_tooltip"),ei=sj_ce("span",null,"ev_tb_tooltip"),ci=sj_ce("span",null,"ev_tb_hover_background"),di=sj_ce("span",null,"ev_tb_hover_background");if(t.enableMinimize||t.disableMaxTrigger?(e=sj_ce("div","ev_tb_headerControl_rin","ev_tb_headerControls"),rt=sj_ce("span","ev_tb_hover_minimize_image",null),n.appendChild(rt),n.appendChild(ci),t.enableTooltip&&(tt.innerText="Minimize Chat",n.appendChild(tt)),e.appendChild(n),u.appendChild(e)):t.enableClose?(e=sj_ce("div","ev_tb_headerControl_rin","ev_tb_headerControls"),rt=sj_ce("span","ev_tb_hover_minimize_image",null),n.appendChild(rt),n.appendChild(ci),f.appendChild(di),t.enableTooltip&&(tt.innerText="Minimize Chat",ei.innerText="Close Chat",n.appendChild(tt),f.appendChild(ei)),e.appendChild(n),e.appendChild(f),u.appendChild(e)):u.appendChild(f),l=sj_ce("div","ev_sugg"),bt=sj_ce("div","ev_sugg_cont"),st=sj_ce("div","ev_sugg_chevl",ut),kt=sj_ce("div","ev_sugg_chevr",ut),l.appendChild(st),l.appendChild(kt),l.appendChild(bt),ct=sj_ce("div","ev_send_input",null),a=sj_ce("textarea",si,t.enableVoice?"ev_send_voice_text":"ev_send_text"),a.tabIndex=0,a.setAttribute("type","text"),a.setAttribute("placeholder",t.placeHolder),nt=sj_ce("div","ev_mic","ev_mic_default"),nt.innerHTML=kf,nt.tabIndex=0,ai=sj_ce("div","ev_kb"),ot=sj_ce("div",du,"ev_send_button"),ot.appendChild(sj_ce("div","ev_send_button_img","ev_send_button_img")),ot.tabIndex=0,ct.appendChild(a),t.enableVoice&&(ct.appendChild(nt),ct.appendChild(ai)),ct.appendChild(ot),w.appendChild(u),v=sj_ce("div","ev_talkbox_cont",t.enableContradiction?"b_tb_cont":null),p=sj_ce("span",it,null),p.tabIndex=0,p.setAttribute("aria-live","polite"),v.appendChild(p),t.enableContradiction){var ht=sj_ce("div","ev_cont_disc",null),vi=t.contradictionDisc.split("{0}"),yi=sj_ce("span");yi.innerText=vi[0];ht.appendChild(yi);lt=sj_ce("div",null,"b_cont_icon");lt.setAttribute("title","Contradiction");lt.innerHTML=yo;ht.appendChild(lt);ni=sj_ce("span");ni.innerText=vi[1];ht.appendChild(ni);v.appendChild(ht)}v.appendChild(l);w.appendChild(v);w.appendChild(ct);li.appendChild(w);t.disableMinBubble&&MsnShared.addClass(o,"ev_remove_bubble");t.enableDarkUi&&MsnShared.addClass(o,"ev_dark");y=sj_ce("div",oi,null);y.tabIndex=0;y.appendChild(sj_ce("span","ev_min_zoimg",vu()));pi=sj_ce("span","ev_min_zotext","ev_min_zotext");y.appendChild(pi).textContent="Hello! Let's Chat.";o.append(b);o.append(li);o.appendChild(y);et&&oh();at=sj_ce("div","","ev_zo_tooltip");at.innerText="explore it";_d.body.appendChild(at);MsnShared.hide(at)}function vu(n,i){var r,u,f;return(n===void 0&&(n=!1),i===void 0&&(i=!1),i&&t.altHeaderClass)?t.altHeaderClass:t.altIconClass?(r=n?" ":"",t.altIconClass.indexOf("|")>-1?(u=t.altIconClass.split("|"),f=Math.floor(Math.random()*u.length),r+=u[f]):r+=t.altIconClass,r):""}function ee(n){switch(n){case"happiness":case"amusement":return"b_cheerful";case"apologetic":case"sadness":case"disapproval":case"disgust":case"disappointment":case"stress":return"b_sad";case"anger":return"b_angry";case"excitement":return"b_excited";case"interest":case"surprise":return"b_friendly";case"annoyance":return"b_unfriendly";case"concern":case"embarrassment":case"fear":case"nervousness":return"b_terrified";case"gratitude":case"optimism":case"pride":case"relief":case"admiration":case"caring":case"educational":case"love":case"approval":case"confusion":case"neutral":default:return""}}function ks(n){var t=sj_ce("div",null,"ev_sugg_pill");t.innerText=n;sj_be(t,"click",function(){var t=_ge(wi);MsnShared.hasClass(t,"ev_tb_first")&&MsnShared.removeClass(t,"ev_tb_first");r("ClientInst",i,"SuggestionClick");lt(n)});bt.appendChild(t)}function oa(){var t,i,n;for((c||lr)&&(MsnShared.hide(_ge("syd_suggestions")),MsnShared.removeClass(_ge("ifeu"),"syd_height_override")),n=bt.getElementsByClassName("ev_sugg_pill");n.length>0;)(i=(t=n[0])===null||t===void 0?void 0:t.parentElement)===null||i===void 0?void 0:i.removeChild(n[0]);Lib.CssClass.add(st,ut);Lib.CssClass.add(kt,ut);ki=0;bt.style.marginLeft="0";di=0}function yu(){li&&Lib.CssClass.add(li,eo)}function ds(){var n,t;if(!et){if(li&&Lib.CssClass.remove(li,eo),bt)for(n=bt.getElementsByClassName("ev_sugg_pill"),dr=(n.length-1)*8,t=0;t<n.length;t++)dr+=n[t].offsetWidth;gs()}}function gs(){var n=_ge(it);n&&dr>n.offsetWidth&&kt&&Lib.CssClass.remove(kt,ut)}function nh(n){var i=_d.getElementsByClassName("ev_sugg_pill"),t;n&&ki>0?ki--:!n&&ki<i.length&&ki++;di=di-(i[ki].offsetLeft-20);bt.style.marginLeft=di+"px";t=_ge(it);t&&(di==0&&st?(Lib.CssClass.add(st,ut),gs()):di<-(dr-t.offsetWidth)&&kt&&st?(Lib.CssClass.add(kt,ut),Lib.CssClass.remove(st,ut)):st&&Lib.CssClass.remove(st,ut))}function oe(){var i=sj_gx(),c=rt+t.AutoSuggestUrl,n,s,r,f,e,h,o;i.open("POST",c,!0);n={source:_w.location.hostname,traceId:t.traceId,message:{timestamp:fi()}};u!=""&&(n.conversationId=u);_G.Lang&&(n.message.locale=_G.Lang);_G.Mkt&&(n.message.market=_G.Mkt);_G.Region&&(n.message.region=_G.Region);t.longitude!=""&&t.latitude!=""&&(s="lat:"+t.latitude+";long:"+t.longitude+";re=1000m;",n.message.location=s);r=t.sydBEFeatures;t.enableConvoIdMsg&&(f=new URLSearchParams(_w.location.search),e=f.get(rr),e&&(h=JSON.parse(e),n.options=h),o=f.get(ur),o&&(r=o));r!=""&&(n.optionsSets=r.split(","));n.sliceIds=ui();i.setRequestHeader("Content-Type","application/json");sj_be(i,"readystatechange",function(){var r,n,t;if(i.readyState===4&&i.status===200){if(n=JSON.parse(i.responseText),((r=n===null||n===void 0?void 0:n.suggestedResponses)===null||r===void 0?void 0:r.length)>0){for(t=0;t<n.suggestedResponses.length;t++)ks(n.suggestedResponses[t].text);ds()}(n===null||n===void 0?void 0:n.conversationId)&&(u=n.conversationId)}});i.send(JSON.stringify(n))}function th(){a&&(w&&a.length>=3||!w&&a.length>=2)&&r("ClientInst",i,"ZoHistory","history",JSON.stringify(a));nf&&!gu&&r("ClientInst",i,"HasDwellNoType");r("ClientInst",i,"UnloadLogging");br();sj_ue(_w,"beforeunload",th)}function ih(){var n=1440;return t.enableMinimize&&t.disableMaxTrigger===0&&t.enableClose===0?-1:t.disableMaxTrigger?t.disableMaxTrigger*n:t.enableClose?t.enableClose*n:0}function pu(){if(t.enableMinimize||t.disableMaxTrigger||t.enableClose){if(se())return;var n=ih();n===-1?sessionStorage.setItem(ho,"true"):sj_cook.set(bf,so,(new Date).getTime().toString(),n>0,"/",n);r("ClientInst",i,"MaxTriggerDisabled")}}function se(){var i=sj_cook.get(bf,so),n,t;if(i){if((n=6e4*ih(),n<0)||(t=parseInt(i),t&&t<(new Date).getTime()+n))return!0;sj_cook.clear(bf)}return!1}function rh(){if(t.enableMinimize&&t.disableMaxTrigger===0&&t.enableClose===0){var n=sessionStorage.getItem(ho);if(n)return!0}return!1}function uh(n){if(rh()||se())ft(!1),t.calloutEnabled&&!et&&ph(),r("ClientInst",i,"PreviouslyMaxTriggerSuppressed");else{lu(n,!1);var u=_ge("ev_talkbox_cont");u&&Lib.CssClass.add(u,"ev_zo_first_max_triggered")}}function he(n,e,o,l){var lt,at,pt,wt,bt,kt,ni,ui,fi,ei,oi,si,hi,ot,nt,li,vi,ki,tr,ir,rr,ht,ft,et,ur,fr,ct,di,gi,st;if(o===void 0&&(o=""),l===void 0&&(l=null),ot=!1,nt=l?l:JSON.parse(n),nt){if(ot=nt.result.value=="Success",!ot){if(r("ClientInst",i,"BadResultValue","value",nt.result.value),nt.result.value=="InvalidSession"||nt.result.value=="InvalidRequest")if(r("ClientInst",i,"SessionTimeout"),t.disableConvoRefresh||e=="")v([{Entity:lf,Type:"Text"}]),r("ClientInst",i,"Conversation","text",lf,"order",f.toString(),"from","BOT"),f++;else{if(u=null,h=!0,t.enableSydRetry)return!1;sb_st(function(){er(e,!0,!0)},3e3)}else if(nt.result.value=="ProcessingMessage"){if(r("ClientInst",i,"ConcurrentMsgErr"),t.enableSydRetry)return!1;sb_st(function(){er(e,!0,!0)},3e3)}else li=Math.floor(Math.random()*yr.length),v([{Entity:yr[li],Type:"Text"}]),r("ClientInst",i,"Conversation","text",yr[li],"order",f.toString(),"from","BOT"),f++,r("ClientInst",i,nt.result.value=="InternalError"||nt.result.value=="ConfigurationError"?"DownError":"ResponseFailure","value",nt.result.value);return!0}(b||k)&&(vi=_ge("b_syd_supermax"),vi&&(MsnShared.addClass(vi,"syd_qna_usersentmsg"),ki=_ge("b_syd_sm_tb"),ki.value="",ki.placeholder="Continue chatting with Sydney",ai(),r("ClientInst",i,"QnaMessageInput",l?"VOICE":"TEXT")));hf=nt.conversationExpiryTime;u=nt.conversationId;nr=0;s&&(r("ClientInst",i,"getZoChatFirstRequest"),r("ClientInst",i,"ConvoId","cid",u),(t.blockGenerateIfAlt||t.blockOverlay)&&!c||sj_evt.fire("clarity.trigger","sydneychatbot"),tr=sj_cook.get(ru,af),tr||(ir=_ge(wi),MsnShared.addClass(ir,"ev_tb_first")));var g=nt.messages,ut=nt.firstNewMessageIndex,tt=ut>0?g[ut-1]:ye;if(a=a.concat(g),yt=(tt===null||tt===void 0?void 0:tt.offense)=="Offensive"||(tt===null||tt===void 0?void 0:tt.offense)=="OffenseResponse"||(tt===null||tt===void 0?void 0:tt.offense)=="Blocklist"?yt+1:0,t.blockOnMultFate&&yt==3)return rr=1440,sj_cook.set(eu,pf,(new Date).getTime().toString(),!0,"/",rr),ri(),eh(),ii(),r("ClientInst",i,"DisabledByFate"),!0;if(s&&w){if(r("ClientInst",i,"FirstReqPreTrig"),!nt.shouldInitiateConversation&&t.enableSydneyStaticBid&&!t.enableSydneyInlineSendQuery)return t.enableDelighterForceMax?ve():(!dt||t.blockOverlay)&&yi(),vt&&(st=_G.BPT?(new Date).getTime()-_G.BPT.getTime():-1,r("ClientInst",i,"Triggered","isMinimized",d.toString(),"timeSinceLoad",st.toString()),r("ClientInst",i,"MinimizedByFate"),bi=!0),s=!1,!0;if(!t.enableDelighterForceMax&&t.enableFirstUserMessage&&pe&&g&&g.length>0)for(ht=0;ht<ut;ht++)ft=g[ht],ft&&(et=_ge(it),p&&(ur=gt(ft.text?ft.text:"",ft.author=="bot",!1,[],!1,et),et.appendChild(ur),et.scrollTop=et.scrollHeight))}for(fr=function(n){var u,p,a,c,et,e,h,l,o,ot,st,b,d,nt,ht,it,ct,vt,k,ft,yt;if(((lt=g[n])===null||lt===void 0?void 0:lt.author)==="bot"&&((at=g[n])===null||at===void 0?void 0:at.contentOrigin)==="AnnRules"&&(r("ClientInst",i,"AnnHit"),((pt=g[n])===null||pt===void 0?void 0:pt.offense)==="OffenseResponse"&&r("ClientInst",i,"AnnHitOffensive")),(((wt=g[n-1])===null||wt===void 0?void 0:wt.author)==="user"&&((bt=g[n-1])===null||bt===void 0?void 0:bt.offense)==="Offensive"||((kt=g[n])===null||kt===void 0?void 0:kt.author)==="bot"&&((ni=g[n])===null||ni===void 0?void 0:ni.contentOrigin)==="NluDirectResponse"&&((ui=g[n])===null||ui===void 0?void 0:ui.offense)!=="OffenseResponse")&&r("ClientInst",i,"NluOffense"),((fi=g[n])===null||fi===void 0?void 0:fi.author)==="bot"&&((ei=g[n])===null||ei===void 0?void 0:ei.contentOrigin)=="Qna"&&r("ClientInst",i,"QnA"),((oi=g[n])===null||oi===void 0?void 0:oi.author)==="bot"&&((si=g[n])===null||si===void 0?void 0:si.contentOrigin)=="Chitchat"&&r("ClientInst",i,"ChitChat"),n!=ut&&y++,u=g[n],p=t.enableSyd1stLink?u.linkUrl!=null:!(s&&w)&&u.linkUrl,s&&w&&u.linkUrl&&r("ClientInst",i,"1stLink"),a=p&&u.sourceUrl,c="",u.scores&&u.scores.length>0&&u.scores[0].component&&(et=u.scores[0].component.indexOf("_"),et>=0&&(c=u.scores[0].component.split("_")[1].toLowerCase())),e=[],u.adaptiveCards){if(t.allowAdaptiveCard)e.push({Entity:u.adaptiveCards[0],Type:"Card"}),r("ClientInst",i,"Conversation","text","AdaptiveCard","order",f.toString(),"from","BOT");else if(!t.blockAdaptiveCardWorkaround&&hh(u.adaptiveCards)){for(h=u.adaptiveCards[0].body,l=0;l<h.length;l++){if(e=[],o=h[l],o.type=="Container"){h.push.apply(h,o.items);continue}o.type=="Image"?e.push({Entity:o.url,Type:"Image"}):o.type=="TextBlock"&&e.push({Entity:o.text,Type:"Text"});u.messageId&&l!=h.length-1&&e.push({Entity:u.messageId,Type:"ID"});e.length&&(l!=h.length-1&&(v(e,!0,c),y++),ot=o.type=="Image"?"{"+o.url+"}":o.text,r("ClientInst",i,"Conversation","text",ot,"order",f.toString(),"from","BOT"))}f++}}else u.text&&(u.text.includes("@failover_hyperlink")&&(u.rewrittenMessage||(tt===null||tt===void 0?void 0:tt.text))?(r("ClientInst",i,"FATELink"),st={text:u.text,userQuery:u.rewrittenMessage?u.rewrittenMessage:tt.text},e.push({Entity:st,Type:"ReplaceLink"}),r("ClientInst",i,"Conversation","text",u.text,"order",f.toString(),"from","BOT"),f++,ci=!0,sb_st(br,fu)):(e.push({Entity:u.text,Type:"Text"}),b=u.text,p&&(b+=a?"(See More)":"(Learn More)",b+="["+u.linkUrl+"]",a?r("ClientInst",i,"QnALink"):r("ClientInst",i,"SkillLink")),r("ClientInst",i,"Conversation","text",b,"order",f.toString(),"from","BOT"),f++,u.text.startsWith("Error parsing")&&r("ClientInst",i,"BotErrorMessage"),no.test(u.text)&&r("ClientInst",i,"BotApology"),!t.enableSydneyStaticBid&&s&&w&&(d=_ge("b_sydin_mtin"),d&&(d.innerText=u.text),nt=_ge("b_sydin_mintext"),nt&&Lib.CssClass.add(nt,"b_mtanim")))),p&&(t.enableExternalLink?e.push(a?{Entity:u.sourceUrl,Type:"SeeMore"}:{Entity:u.linkUrl,Type:"LearnMore"}):e.push({Entity:u.linkUrl,Type:a?"SeeMore":"LearnMore"}),r("ClientInst",i,"SeeMoreAttr"),ci=!0,sb_st(br,fu));if(u.messageId&&e.push({Entity:u.messageId,Type:"ID"}),u.contentOrigin&&r("ClientInst",i,"ServiceHistory","type",u.contentOrigin),t.multMessageDelay!=0&&n!=ut?(ti(),sb_st(function(){v(e,!0,c);var n=_d.querySelector(".ev_mw_bot:last-child .ev_zo_msg"),i=n?n:_d.querySelector(".ev_msg_wrapper:nth-last-child(2) .ev_zo_msg");t.enableAutoShowFeedback&&pi(i)},t.multMessageDelay)):t.singleMessageDelay!=0?(ht=Math.floor(Math.random()*200+t.singleMessageDelay),sb_st(function(){v(e,!0,c);var n=_d.querySelector(".ev_mw_bot:last-child .ev_zo_msg"),i=n?n:_d.querySelector(".ev_msg_wrapper:nth-last-child(2) .ev_zo_msg");t.enableAutoShowFeedback&&pi(i)},ht)):(v(e,!0,c),it=_d.querySelector(".ev_mw_bot:last-child .ev_zo_msg"),ct=it?it:_d.querySelector(".ev_msg_wrapper:nth-last-child(2) .ev_zo_msg"),t.enableAutoShowFeedback&&pi(ct)),t.enableAsyncMessages&&u.messageStreams)for(vt=function(n){var t=new URL(n.url),i;t.searchParams.set("requestId",gh());t.searchParams.set("baseServiceUrl",rt);y++;ti();i=new EventSource(t.toString());i.onmessage=function(n){var t=JSON.parse(n.data),r;t.messages&&(r={result:{value:"Success"},firstNewMessageIndex:0,messages:t.messages,conversationId:t.conversationId},he(null,"","",r));t.stopListening?i.close():(y++,ti())}},k=0,ft=u.messageStreams;k<ft.length;k++)yt=ft[k],vt(yt)},ct=ut;ct<g.length;ct++)fr(ct);t.blockOnMultFate&&yt==2&&fh();t.enableSmartReply&&oe();s&&w&&(d=!1,di=nt.messages[1].text?nt.messages[1].text:nt.messages[1].hiddenText,t.disableMaxTrigger||t.enableMinimize||t.enableClose?uh(di):(lu(di,!1),gi=_ge("ev_talkbox_cont"),gi&&Lib.CssClass.add(gi,"ev_zo_first_max_triggered")),(!dt||t.blockOverlay)&&yi(),vt?(st=_G.BPT?(new Date).getTime()-_G.BPT.getTime():-1,r("ClientInst",i,"Triggered","isMinimized",d.toString(),"timeSinceLoad",st.toString()),bi=!0):r("ClientInst",i,"FirstReqNotVis"));o!=""&&(g===null||g===void 0?void 0:g.length)>=ut&&((hi=g[ut])===null||hi===void 0?void 0:hi.spokenText)&&sh(g[ut].spokenText,o);s&&w&&yh();s=!1}return ot}function fh(){if(t.fateWarningText){var n=sj_ce("div",null,"b_fateMsg");n.innerText=t.fateWarningText;p.appendChild(n)}}function eh(){if(t.fateBlockText){var n=sj_ce("div",null,"b_fateMsgBlock"),r=sj_ce("div",null,"b_fateIcon"),i=sj_ce("div");i.innerText=t.fateBlockText;n.appendChild(r);n.appendChild(i);p.appendChild(n);p.scrollTop=p.scrollHeight}}function ri(){yt===3&&(et=!0);Lib.CssClass.add(o,be);var n=_ge(si);c&&(n=_ge("b_syd_sm_tb"));n&&(n.disabled=!0)}function sa(){Lib.CssClass.remove(o,be);var n=_ge(si);c&&(n=_ge("b_syd_sm_tb"));n&&(n.disabled=!1)}function oh(){var n,i;t.fateBlockText&&!_ge("b_fateBlk_hov")&&(n=sj_ce("div","b_fateBlk_hov"),n.innerText=t.fateBlockText,i=_ge(oi),i.appendChild(n))}function wu(){for(var t=pt?[nt,pt]:[nt],n=0;n<t.length;n++)t[n].innerHTML!=kf&&(t[n].innerHTML=df)}function ce(n){for(var i=pt?[nt,pt]:[nt],t=0;t<i.length;t++)i[t].innerHTML=n}function sh(n,t){var f=sj_cook.get("MUID","MUID"),o=encodeURIComponent(n),s="https://www.bing.com/opaluqu/audio/v2?k=".concat(t,"&clientid=").concat(f,"&spokenText=").concat(o,"&clientbuild=sydney"),u;ht=new Audio(s);ht.addEventListener("play",function(){ce(wo)});ht.addEventListener("playing",function(){ce(wo)});ht.addEventListener("pause",wu);u=dh.bind(this,e?!0:!1);ht.addEventListener("ended",u);ht.addEventListener("error",wu);ht.play();r("ClientInst",i,"ReadTTS","latency",((new Date).getTime()-ff).toString());r("ClientInst",i,"TTSStartReadOut","latency",((new Date).getTime()-ef).toString())}function ha(){ht&&!ht.paused&&(ht.pause(),wu())}function hh(n){var r,u,t,f,i;if(n.length!=1)return!1;for(t=[],n[0].body.length==1&&((u=(r=n[0])===null||r===void 0?void 0:r.body[0])===null||u===void 0?void 0:u.type)=="Container"?t.push.apply(t,n[0].body[0].items):t=n[0].body,f=!1,i=0;i<t.length;i++){if(t[i].type!="TextBlock"&&t[i].type!="Image")return!1;t[i].type=="Image"&&(f=!0)}return f}function ca(){var n=_ge(wi);MsnShared.hasClass(n,"ev_tb_first")?MsnShared.removeClass(n,"ev_tb_first"):MsnShared.addClass(n,"ev_tb_first")}function la(n){var i=n[0],t=n[1];i=="fab_vis"&&t!=kr&&(t?(Lib.CssClass.add(o,"ev_fab"),kr=!0):(Lib.CssClass.remove(o,"ev_fab"),kr=!1))}function ch(){var n,i,r,u;if(t.feedbackOrder.length==4){for(n=sj_ce("div",null,"b_fb_bub b_hide"),i=0;i<t.feedbackOrder.length;i++)switch(t.feedbackOrder[i]){case"Like":n.appendChild(aa());break;case"Dislike":n.appendChild(va());break;case"Laugh":n.appendChild(ya());break;case"Flag":n.appendChild(pa());break;case"Contradiction":n.appendChild(wa())}return r=sj_ce("div",null,"b_fb_b1"),u=sj_ce("div",null,"b_fb_b2"),n.appendChild(r),n.appendChild(u),n}}function aa(){var n=sj_ce("div",null,"b_fb_tup b_fb_icon");return n.setAttribute("title","Like"),n.innerHTML='<svg width="19" height="16" viewBox="0 0 19 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n                        <path d="M11.3452 5.09796L11.2201 5.69973H11.8347H16.7032C17.591 5.69973 18.2173 6.56913 17.9366 7.41033L17.9365 7.41048L15.6733 14.2002L15.6732 14.2004C15.4148 14.9766 14.689 15.5 13.8711 15.5H6.00975C5.6196 15.5 5.30571 15.1832 5.30851 14.7952L5.36731 6.96758C5.36871 6.78315 5.44219 6.6076 5.57248 6.47731L5.57269 6.4771L11.3374 0.705559L11.8306 1.19381C11.9527 1.3172 12.0298 1.48714 12.0352 1.66821L12.0163 1.86957L11.3452 5.09796ZM1.20003 6.89976H2.40006C2.78633 6.89976 3.10009 7.21352 3.10009 7.59979V14.8C3.10009 15.1862 2.78633 15.5 2.40006 15.5H1.20003C0.813756 15.5 0.5 15.1862 0.5 14.8V7.59979C0.5 7.21352 0.813756 6.89976 1.20003 6.89976Z" fill="#CCCCCC" stroke="#919191"/>\n                        <\/svg>',sj_be(n,"click",function(n){wr(n,"Positive")}),n}function va(){var n=sj_ce("div",null,"b_fb_tdown b_fb_icon");return n.setAttribute("title","Dislike"),n.innerHTML='<svg width="19" height="16" viewBox="0 0 19 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n                            <path d="M18.299 8.63573L18.3037 8.64966L18.3091 8.66331C18.6485 9.51179 17.9606 10.3657 17.2211 10.3657H12.3256H11.7245L11.834 10.9567L12.4226 14.1355V14.3284C12.4226 14.4491 12.4031 14.5274 12.3762 14.588C12.3483 14.6507 12.3007 14.7207 12.2108 14.8106L11.7286 15.2929L5.99258 9.5569C5.9027 9.46701 5.85516 9.39699 5.82728 9.33424C5.80035 9.27367 5.78082 9.19539 5.78082 9.07463V1.31343C5.78082 1.17862 5.85289 0.996465 6.01872 0.819583C6.17024 0.657966 6.36019 0.544861 6.531 0.5H14.236C15.0606 0.5 15.7322 1.04429 16.0334 1.83894L18.299 8.63573ZM3.58679 1.31343V8.47761C3.58679 8.7222 3.50744 8.88717 3.40488 8.98973C3.30231 9.0923 3.13734 9.17164 2.89276 9.17164H1.69873C1.45414 9.17164 1.28918 9.0923 1.18661 8.98973C1.08405 8.88717 1.0047 8.7222 1.0047 8.47761V1.31343C1.0047 1.06885 1.08405 0.90388 1.18661 0.801315C1.28918 0.698749 1.45414 0.619403 1.69873 0.619403H2.89276C3.13734 0.619403 3.30231 0.698749 3.40488 0.801315C3.50744 0.90388 3.58679 1.06885 3.58679 1.31343Z" fill="#CCCCCC" stroke="#919191"/>\n                            <\/svg>',sj_be(n,"click",function(n){wr(n,"Negative")}),n}function ya(){var n=sj_ce("div",null,"b_fb_lgh b_fb_icon");return n.setAttribute("title","Laugh"),n.innerHTML='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n                            <path class="b_face_bg" d="M13.2819 2.70899L13.2818 2.70911L13.291 2.71806C14.7721 4.16168 15.5 5.93155 15.5 8C15.5 10.0679 14.7724 11.8393 13.2887 13.3042L13.2887 13.3042L13.2842 13.3087C11.8399 14.7717 10.0689 15.5 8 15.5C5.93167 15.5 4.15913 14.772 2.69355 13.3064C1.2275 11.8404 0.5 10.0877 0.5 8C0.5 5.93113 1.22827 4.16007 2.69127 2.71583L2.69129 2.71586L2.6958 2.71129C4.16073 1.22758 5.9321 0.5 8 0.5C10.0684 0.5 11.8383 1.22787 13.2819 2.70899Z" fill="#EDEDED" stroke="#919191"/>\n                            <path class="b_eye1" d="M4.22001 4.32001C3.84001 4.66001 3.64001 5.10001 3.64001 5.60001C3.64001 6.10001 3.84001 6.54001 4.22001 6.90001C4.60001 7.26001 5.08001 7.44001 5.62001 7.44001C6.16001 7.44001 6.64001 7.26001 7.04001 6.90001C7.44001 6.54001 7.64001 6.10001 7.64001 5.60001C7.64001 5.10001 7.44001 4.66001 7.04001 4.30001C6.64001 3.94001 6.18001 3.76001 5.62001 3.76001C5.08001 3.78001 4.62001 3.96001 4.22001 4.32001Z" fill="url(#paint0_linear)"/>\n                            <path class="b_eye1" d="M9.01994 4.32C8.63994 4.68 8.43994 5.1 8.43994 5.62C8.43994 6.14 8.63994 6.56 9.01994 6.92C9.39994 7.28 9.87994 7.46 10.4399 7.46C10.9999 7.46 11.4599 7.28 11.8599 6.92C12.2599 6.56 12.4599 6.12 12.4599 5.62C12.4599 5.12 12.2599 4.68 11.8599 4.32C11.4599 3.96 10.9999 3.78 10.4399 3.78C9.87994 3.78 9.41994 3.96 9.01994 4.32Z" fill="url(#paint1_linear)"/>\n                            <path class="b_eye2" fill-rule="evenodd" clip-rule="evenodd" d="M6.973 4.59188C6.72113 4.48387 6.34331 4.44147 5.83319 4.49815L5.82696 4.49884L5.8207 4.49928C5.2768 4.53679 4.92498 4.66531 4.72904 4.81315C4.61001 4.91614 4.57243 4.97684 4.5586 5.0114C4.49707 5.16524 4.32248 5.24006 4.16864 5.17853C4.01481 5.117 3.93998 4.94241 4.00152 4.78857C4.06745 4.62374 4.1888 4.48594 4.34482 4.35221L4.35085 4.34704L4.35715 4.3422C4.68133 4.09283 5.16565 3.94382 5.77315 3.90113C6.33585 3.83928 6.83358 3.87595 7.22031 4.04514L7.22735 4.04822L7.23422 4.05166C7.39771 4.1334 7.57454 4.23929 7.68006 4.37999C7.77947 4.51254 7.75261 4.70058 7.62006 4.79999C7.48751 4.8994 7.29947 4.87254 7.20006 4.73999C7.1858 4.72098 7.12432 4.66821 6.973 4.59188Z" fill="white"/>\n                            <path class="b_eye2" fill-rule="evenodd" clip-rule="evenodd" d="M9.31065 4.64205L9.02006 4.86C8.88751 4.95941 8.69947 4.93255 8.60006 4.8C8.50065 4.66745 8.52751 4.47941 8.66006 4.38L9.00791 4.11911L9.03981 4.10515C9.42156 3.93813 9.91765 3.87802 10.512 3.9417C11.0876 4.00338 11.5539 4.13042 11.8999 4.3998C11.9771 4.45529 12.0542 4.51839 12.118 4.58931C12.1817 4.66006 12.2495 4.75767 12.2742 4.88116C12.3067 5.04363 12.2014 5.20168 12.0389 5.23417C11.8807 5.26582 11.7266 5.16671 11.6887 5.01146C11.6862 5.00773 11.6812 5.00082 11.6721 4.99069C11.6474 4.96328 11.6067 4.92768 11.5457 4.88412L11.5401 4.88013L11.5347 4.87589C11.3213 4.70823 10.9894 4.59629 10.4481 4.53829C9.94267 4.48414 9.56829 4.53743 9.31065 4.64205Z" fill="white"/>\n                            <path class="b_eye3" fill-rule="evenodd" clip-rule="evenodd" d="M6.80595 4.22879C6.54115 4.01242 6.16817 3.90537 5.69317 3.95815L5.692 3.95828L5.692 3.95828C5.1844 4.01266 4.8529 4.18781 4.65834 4.44222L4.65233 4.45009L4.64581 4.45754C4.53287 4.58661 4.48826 4.69288 4.47772 4.7772C4.45717 4.9416 4.30723 5.05822 4.14283 5.03767C3.97842 5.01712 3.8618 4.86718 3.88235 4.70277C3.91143 4.47015 4.02423 4.2589 4.1878 4.06986C4.51338 3.64952 5.01915 3.42704 5.6275 3.36175C6.23024 3.29491 6.77588 3.42675 7.19075 3.76841L7.19421 3.77126L7.19759 3.77421C7.37071 3.9257 7.52978 4.10113 7.61578 4.30181C7.68105 4.4541 7.6105 4.63046 7.45821 4.69573C7.30592 4.761 7.12956 4.69045 7.06429 4.53816C7.03057 4.45947 6.95063 4.35592 6.80595 4.22879Z" fill="#919191"/>\n                            <path class="b_eye3" fill-rule="evenodd" clip-rule="evenodd" d="M9.32147 4.20555L9.02262 4.61646C8.92517 4.75046 8.73755 4.78009 8.60355 4.68263C8.46955 4.58518 8.43993 4.39756 8.53738 4.26356L8.87715 3.79638L8.90245 3.77424C9.30799 3.41939 9.84385 3.31674 10.4709 3.38161L10.4731 3.38184C11.0561 3.44661 11.5686 3.64734 11.8976 4.07679C12.0538 4.27784 12.1683 4.48801 12.1977 4.7228C12.2182 4.88721 12.1016 5.03715 11.9372 5.0577C11.7728 5.07825 11.6229 4.96163 11.6023 4.79722C11.5917 4.71239 11.5466 4.60286 11.4232 4.4442L11.4217 4.44225C11.2308 4.19258 10.904 4.0336 10.408 3.9783C9.8935 3.92526 9.55509 4.01443 9.32147 4.20555Z" fill="#919191"/>\n                            <path class="b_mouth1" fill-rule="evenodd" clip-rule="evenodd" d="M3.15764 7.82858C3.37382 7.78307 3.58596 7.92142 3.63147 8.13759L3.78925 8.88707C3.94109 9.4535 4.14871 9.98116 4.39268 10.4511C5.18339 11.8826 6.36955 12.58 7.96005 12.58C9.54196 12.58 10.6921 11.9314 11.4987 10.6114L11.4994 10.6104C11.9486 9.88046 12.2302 9.07497 12.3433 8.18934C12.3712 7.97021 12.5716 7.81524 12.7907 7.84322C13.0098 7.87119 13.1648 8.07151 13.1368 8.29065C13.0099 9.28481 12.6917 10.1991 12.181 11.0291C11.2277 12.5887 9.81792 13.38 7.96005 13.38C6.07211 13.38 4.61904 12.5188 3.68975 10.8331L3.6874 10.8289L3.68516 10.8245C3.41156 10.2984 3.18102 9.71105 3.01355 9.08306L3.01082 9.0728L2.84863 8.3024C2.80312 8.08623 2.94147 7.87409 3.15764 7.82858Z" fill="#F5F5F5"/>\n                            <path class="b_mouth2" d="M4.26003 10.8C5.30003 11.96 6.56003 12.56 8.02003 12.56C9.48003 12.56 10.72 11.98 11.74 10.8C12.6 9.81999 13.1 8.67999 13.24 7.35999H2.78003C2.92003 8.67999 3.40003 9.81999 4.26003 10.8Z" fill="white"/>\n                            <path class="b_mouth3" fill-rule="evenodd" clip-rule="evenodd" d="M2.88861 7.34164C3.05339 7.32429 3.20103 7.44381 3.21837 7.60858C3.37115 9.06001 3.93869 10.1648 4.93165 10.9892L4.93447 10.9915L4.93446 10.9915C5.81714 11.7428 6.86716 12.12 8.10002 12.12C9.31069 12.12 10.341 11.7441 11.2249 10.9921C12.1768 10.1705 12.7064 9.06786 12.821 7.63607C12.8342 7.47091 12.9788 7.34773 13.1439 7.36095C13.3091 7.37416 13.4323 7.51876 13.4191 7.68391C13.2936 9.25171 12.7035 10.5089 11.616 11.4471L11.6145 11.4485C10.6185 12.2961 9.44902 12.72 8.10002 12.72C6.73353 12.72 5.54402 12.2976 4.54699 11.4496C3.42083 10.5141 2.78882 9.25931 2.62167 7.6714C2.60432 7.50662 2.72384 7.35898 2.88861 7.34164Z" fill="#929292"/>\n                            <path class="b_mouth4" fill-rule="evenodd" clip-rule="evenodd" d="M13.0919 7.91867C9.7106 7.60043 6.32943 7.60043 2.94813 7.91867C2.78317 7.93419 2.63686 7.81305 2.62134 7.6481C2.60581 7.48314 2.72695 7.33683 2.8919 7.32131C6.3106 6.99955 9.72943 6.99955 13.1481 7.32131C13.3131 7.33683 13.4342 7.48314 13.4187 7.6481C13.4032 7.81305 13.2569 7.93419 13.0919 7.91867Z" fill="#868686"/>\n                            <defs>\n                            <linearGradient id="paint0_linear" x1="3.6467" y1="3.77213" x2="3.6467" y2="7.43991" gradientUnits="userSpaceOnUse">\n                            <stop class="b_fb_sc1" stop-color="#F9F9F9"/>\n                            <stop class="b_fb_sc2" offset="0.8863" stop-color="#EDEDED"/>\n                            <\/linearGradient>\n                            <linearGradient id="paint1_linear" x1="8.43666" y1="3.77212" x2="8.43666" y2="7.4399" gradientUnits="userSpaceOnUse">\n                            <stop class="b_fb_sc1" stop-color="#F9F9F9"/>\n                            <stop class="b_fb_sc2" offset="0.8863" stop-color="#EDEDED"/>\n                            <\/linearGradient>\n                            <\/defs>\n                          <\/svg>',sj_be(n,"click",function(n){wr(n,"Laugh")}),n}function pa(){var n=sj_ce("div",null,"b_fb_ofsv b_fb_icon "+(t.ofsvIcon!=""?t.ofsvIcon:""));return n.setAttribute("title","Offensive"),n.innerHTML=t.ofsvIcon=="b_sydofsv1"?'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n                            <path class="b_ofsv1_p1" fill-rule="evenodd" clip-rule="evenodd" d="M16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8ZM10.2887 12.41C10.3006 12.422 10.2976 12.442 10.2826 12.4498C9.59828 12.8015 8.82233 13 8 13C5.23858 13 3 10.7614 3 8C3 7.17767 3.19851 6.40171 3.55024 5.71743C3.55795 5.70242 3.57803 5.69935 3.58996 5.71129L10.2887 12.41ZM12.4498 10.2826C12.442 10.2976 12.422 10.3007 12.41 10.2887L5.71128 3.58996C5.69935 3.57803 5.70242 3.55795 5.71743 3.55024C6.40171 3.19852 7.17767 3 8 3C10.7614 3 13 5.23858 13 8C13 8.82233 12.8015 9.59829 12.4498 10.2826Z" fill="#EDEDED"/>\n                            <circle cx="8" cy="8" r="7.5" stroke="#919191"/>\n                            <path class="b_ofsv1_p2" d="M12.6754 10.3905L12.6754 10.3905C13.0428 9.67325 13.25 8.86046 13.25 8C13.25 5.10051 10.8995 2.75 8 2.75C7.13954 2.75 6.32676 2.95719 5.60949 3.32463C5.43905 3.41195 5.40622 3.63847 5.53931 3.77156L12.2284 10.4607C12.3615 10.5938 12.5881 10.5609 12.6754 10.3905ZM10.3905 12.6754L10.2765 12.4529L10.3905 12.6754C10.5609 12.5881 10.5938 12.3615 10.4607 12.2285L3.77155 5.53933L3.59477 5.71611L3.77154 5.53933C3.63845 5.40623 3.41193 5.43907 3.32462 5.60951L3.54409 5.72194L3.32462 5.60951C2.95718 6.32677 2.75 7.13955 2.75 8C2.75 10.8995 5.10051 13.25 8 13.25C8.86045 13.25 9.67323 13.0428 10.3905 12.6754Z" stroke="#919191" stroke-width="0.5"/>\n                            <\/svg>':t.ofsvIcon=="b_sydofsv2"?'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n                            <circle cx="8" cy="8" r="7.5" fill="#EDEDED" stroke="#919191"/>\n                            <rect x="6.625" y="3" width="2.75" height="6.5" rx="1.375" fill="white" stroke="#919191" stroke-width="0.5"/>\n                            <circle cx="8" cy="11.5752" r="1.375" fill="white" stroke="#919191" stroke-width="0.5"/>\n                            <\/svg>':'<svg width="12" height="16" viewBox="0 0 12 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n                            <path d="M0.500011 15.0034H0.500023V15V1.0029C0.501799 0.875958 0.551802 0.754413 0.639929 0.662957C0.728529 0.57101 0.848951 0.516444 0.976499 0.510449L0.999719 0.509357L1.00068 0.509562L1.01312 0.508727L1.01327 0.50872L1.01329 0.508716L1.07049 0.504879C1.14527 0.499862 1.22022 0.511355 1.29004 0.538533L2.58748 1.0635L2.58771 1.06359L11.1749 4.5332C11.2054 4.54758 11.2343 4.56501 11.2613 4.58523L11.2612 4.58538L11.2722 4.59311C11.3403 4.64133 11.3963 4.70465 11.4359 4.77813C11.4739 4.84873 11.4958 4.92687 11.4999 5.00688C11.498 5.08138 11.4792 5.15452 11.4448 5.22071C11.4089 5.28974 11.3571 5.34923 11.2936 5.39426L11.2858 5.39981L11.2782 5.40567C11.2474 5.42938 11.2139 5.4494 11.1784 5.46535L1.81293 9.24432L1.50002 9.37058V9.708V15H1.49999L1.50006 15.0058C1.50082 15.0713 1.48911 15.1362 1.46557 15.1973C1.43443 15.2663 1.38718 15.3269 1.32774 15.374C1.26653 15.4225 1.19429 15.4551 1.11744 15.4689L1.08686 15.4744L1.05719 15.4837C1.04148 15.4886 1.02553 15.4926 1.0094 15.4957C0.992032 15.4925 0.974854 15.4883 0.957948 15.4831L0.92534 15.4731L0.891673 15.4675C0.78178 15.4496 0.68192 15.393 0.610105 15.3079C0.538289 15.2228 0.499244 15.1148 0.500011 15.0034ZM2.29726e-05 1V15L0.953023 0.011C0.697927 0.0229902 0.457084 0.132123 0.279883 0.316018C0.102682 0.499913 0.00255049 0.744635 2.29726e-05 1Z" fill="#EDEDED" stroke="#919191"/>\n                            <\/svg>',sj_be(n,"click",function(n){wr(n,"Offensive")}),n}function wa(){var n=sj_ce("div",null,"b_fb_con b_fb_icon");return n.setAttribute("title","Contradiction"),n.innerHTML=yo,sj_be(n,"click",function(n){wr(n,"Contradiction")}),n}function lh(n){for(var t,i;!Lib.CssClass.contains(n,"ev_msg_wrapper");)Lib.CssClass.contains(n,"b_fb_icon")&&(t=n),Lib.CssClass.contains(n,"b_fb_bub")&&(i=n),n=n.parentElement;return[n,t,i]}function wr(n,f){var c,o=n.target,l=!1,p,a,v,e,s,h,y,k,d,b;if(at(),c=lh(o),o=c[0],p=c[1],a=c[2],l=!Lib.CssClass.contains(p,"b_fb_active"),ka(a),v=o.querySelector(".b_fb_active"),v){var w=lh(v),g=w[0],nt=w[1],tt=w[2];Lib.CssClass.remove(nt,"b_fb_active");Lib.CssClass.remove(tt,"b_fb_bubact");t.disableOnOffensive&&Lib.CssClass.remove(g,"b_ofsv_dis");le(v);f=="Offensive"&&r("ClientInst",i,"OffensiveUnmarked")}if(l&&(Lib.CssClass.add(p,"b_fb_active"),Lib.CssClass.add(a,"b_fb_bubact"),ba(a,f),t.disableOnOffensive&&f=="Offensive"&&Lib.CssClass.add(o,"b_ofsv_dis"),f=="Offensive"&&r("ClientInst",i,"OffensiveMarked")),le(n.target),e=o.querySelector(".ev_zo_msg"),e===null||e===void 0?!void 0:!e.getAttribute("suppressFeedback")){if(t.disableFeedbackBubble){if(s=e.getAttribute("cid"),s&&s!==u)return}else s=u?u:"No conversationId found";h=e.getAttribute("mid");h===null&&(h="No ID found");r(t.enableUtilityLog?"SelectFeedback":"ClientInst",i,"Feedback","type",f,"mid",h,"text",e.innerText,"isAdding",l.toString());y=sj_gx();k=rt+t.FeedbackUrl;y.open("POST",k,!0);d=f==="Offensive"||f==="Contradiction"?"Negative":f;b={source:_w.location.hostname,traceId:t.traceId,messageId:h,conversationId:s,isAdding:l,feedback:{updatedOn:fi(),type:d,tag:f}};b.sliceIds=ui();y.setRequestHeader("Content-Type","application/json");y.send(JSON.stringify(b))}}function ui(){var n=t.sydBEID?[t.sydBEID]:[],i,r;return t.sydFEIDs!=""&&(i=t.sydFEIDs.split(",")||[],n=__spreadArray(__spreadArray([],n,!0),i,!0)),t.sydSids&&t.sydSids!=""&&(r=t.sydSids.split(",")||[],n=__spreadArray(__spreadArray([],n,!0),r,!0)),n}function ba(n,t){Lib.CssClass.add(n,"b_fb_bubanim1");sb_st(function(){Lib.CssClass.add(n,"b_fb_bubanim2")},100);sb_st(function(){Lib.CssClass.remove(n,"b_fb_bubanim1");Lib.CssClass.remove(n,"b_fb_bubanim2");t==="Positive"||t==="Laugh"?da(n):t==="Negative"||t==="Contradiction"?ga(n):t==="Offensive"&&nv(n)},900)}function ka(n){Lib.CssClass.remove(n,"b_tdown_ac");var t=n.querySelector(".b_fb_anim");t&&t.parentElement.removeChild(t)}function da(n){var t=sj_ce("div",null,"b_tup_anim b_fb_anim");t.innerHTML='<svg width="65" height="55" viewBox="0 0 65 55" fill="none" xmlns="http://www.w3.org/2000/svg">\n                            <g>\n                                <path class="b_tup_anim1" d="M18.279 15.2867C20.0979 15.2867 21.5259 16.7181 21.5259 18.4271C21.5259 20.1361 20.0979 21.5675 18.279 21.5675C16.4602 21.5675 15.0321 20.1361 15.0321 18.4271C15.0321 16.7181 16.4602 15.2867 18.279 15.2867Z" stroke="#42CED7" stroke-width="2.17364"/>\n                                <ellipse class="b_tup_anim2" cx="13.0371" cy="47.1864" rx="5.97754" ry="6.12818" transform="rotate(-90 13.0371 47.1864)" fill="#0A22CC"/>\n                                <ellipse class="b_tup_anim3" cx="8.97727" cy="16.8118" rx="4" ry="4.1008" transform="rotate(-90 8.97727 16.8118)" fill="#1E0C8A"/>\n                                <ellipse class="b_tup_anim4" cx="54.1804" cy="39.7768" rx="3.86116" ry="3.95846" transform="rotate(-90 54.1804 39.7768)" fill="#C3F1F4"/>\n                                <ellipse class="b_tup_anim5" cx="56.6901" cy="10.682" rx="2.96165" ry="3.03629" transform="rotate(-90 56.6901 10.682)" fill="#17C6D1"/>\n                                <ellipse class="b_tup_anim1" cx="54.1481" cy="1.71647" rx="1.71645" ry="1.75971" transform="rotate(-90 54.1481 1.71647)" fill="#2D40CC"/>\n                                <ellipse class="b_tup_anim2" cx="42.4404" cy="52.6991" rx="1.71645" ry="1.75971" transform="rotate(-90 42.4404 52.6991)" fill="#4B95EB"/>\n                                <ellipse class="b_tup_anim3" cx="18.1261" cy="41.9156" rx="2.00001" ry="2.05041" transform="rotate(-90 18.1261 41.9156)" fill="#3DCBD7"/>\n                                <path class="b_tup_anim4" d="M51.4853 9.73831L51.4853 9.7381L51.4776 9.73896C51.1913 9.7714 50.9642 10.0098 50.9642 10.3048V13.2051H47.9874V13.2049L47.9798 13.2053L47.9279 13.2082L47.9279 13.208L47.9202 13.2089C47.6339 13.2413 47.4069 13.4797 47.4069 13.7747H47.4066L47.4071 13.7827L47.4101 13.8333L47.4099 13.8333L47.4108 13.8413C47.4449 14.1272 47.6924 14.3443 47.9874 14.3443H50.9642V17.2446H50.964L50.9645 17.2526L50.9675 17.3032L50.9672 17.3032L50.9682 17.3113C51.0022 17.5971 51.2497 17.8142 51.5448 17.8142V17.8144L51.5524 17.814L51.6042 17.8111L51.6043 17.8113L51.6119 17.8104C51.8983 17.778 52.1253 17.5396 52.1253 17.2446V14.3443H55.1021V14.3445L55.1098 14.3441L55.1616 14.3411L55.1616 14.3414L55.1693 14.3405C55.4556 14.3081 55.6826 14.0697 55.6826 13.7747H55.6829L55.6824 13.7667L55.6794 13.7161L55.6797 13.7161L55.6787 13.708C55.6447 13.4222 55.3971 13.2051 55.1021 13.2051H52.1253V10.3048H52.1255L52.125 10.2968L52.1221 10.2462L52.1223 10.2462L52.1213 10.2381C52.0873 9.95226 51.8398 9.73518 51.5448 9.73518V9.73497L51.5371 9.73539L51.4853 9.73831Z" fill="#007FFF" stroke="#007FFF" stroke-width="0.271705"/>\n                                <path class="b_tup_anim5" d="M59.8384 43.2887L59.8384 43.2885L59.8307 43.2894C59.5389 43.3224 59.3077 43.5654 59.3077 43.8658V46.8411H56.254V46.8409L56.2464 46.8413L56.1932 46.8443L56.1932 46.8441L56.1856 46.845C55.8937 46.878 55.6625 47.1209 55.6625 47.4214H55.6622L55.6627 47.4294L55.6658 47.4813L55.6655 47.4813L55.6665 47.4893C55.7012 47.7805 55.9533 48.0017 56.254 48.0017H59.3077V50.977H59.3074L59.3079 50.985L59.311 51.0368L59.3107 51.0368L59.3117 51.0449C59.3464 51.3361 59.5985 51.5573 59.8992 51.5573V51.5575L59.9068 51.5571L59.9599 51.5541L59.9599 51.5543L59.9676 51.5534C60.2594 51.5204 60.4907 51.2774 60.4907 50.977V48.0017H63.5443V48.0019L63.552 48.0015L63.6051 47.9985L63.6051 47.9987L63.6128 47.9978C63.9046 47.9648 64.1358 47.7219 64.1358 47.4214H64.1361L64.1356 47.4134L64.1325 47.3615L64.1328 47.3615L64.1318 47.3535C64.0971 47.0623 63.845 46.8411 63.5443 46.8411H60.4907V43.8658H60.4909L60.4904 43.8578L60.4874 43.806L60.4876 43.806L60.4866 43.7979C60.452 43.5067 60.1998 43.2855 59.8992 43.2855V43.2853L59.8915 43.2857L59.8384 43.2887Z" fill="#43B3FD" stroke="#43B3FD" stroke-width="0.271705"/>\n                                <path class="b_tup_anim1" d="M5.76737 33.845L5.76736 33.8448L5.75971 33.8457C5.42718 33.8833 5.16432 34.16 5.16432 34.5014V38.0357H1.53752V38.0355L1.52989 38.0359L1.4672 38.0395L1.46719 38.0393L1.45954 38.0401C1.12701 38.0778 0.864147 38.3545 0.864147 38.6959H0.86391L0.864384 38.7039L0.868001 38.7651L0.867761 38.7651L0.868717 38.7731C0.90812 39.104 1.19489 39.356 1.53752 39.356H5.16432V42.8904H5.16408L5.16456 42.8984L5.16817 42.9595L5.16793 42.9595L5.16889 42.9676C5.20829 43.2985 5.49507 43.5505 5.83769 43.5505V43.5507L5.84533 43.5503L5.90801 43.5468L5.90802 43.547L5.91567 43.5461C6.2482 43.5085 6.51107 43.2318 6.51107 42.8904V39.356H10.1379V39.3563L10.1455 39.3558L10.2082 39.3523L10.2082 39.3525L10.2158 39.3517C10.5484 39.314 10.8112 39.0373 10.8112 38.6959H10.8115L10.811 38.6879L10.8074 38.6267L10.8076 38.6267L10.8067 38.6187C10.7673 38.2878 10.4805 38.0357 10.1379 38.0357H6.51107V34.5014H6.51131L6.51083 34.4934L6.50721 34.4323L6.50745 34.4322L6.5065 34.4242C6.46709 34.0933 6.18032 33.8413 5.83769 33.8413V33.841L5.83006 33.8415L5.76737 33.845Z" fill="#C3F1F4" stroke="#C3F1F4" stroke-width="0.271705"/>\n                                <path class="b_tup_anim2" d="M58.1935 33.8525C59.301 33.8525 60.1639 34.7231 60.1639 35.7545C60.1639 36.7859 59.301 37.6564 58.1935 37.6564C57.086 37.6564 56.2231 36.7859 56.2231 35.7545C56.2231 34.7231 57.086 33.8525 58.1935 33.8525Z" stroke="#007FFF" stroke-width="1.63023"/>\n                            <\/g>\n                          <\/svg>';n.appendChild(t);sb_st(function(){t.parentElement!=null&&n.removeChild(t)},4500)}function ga(n){Lib.CssClass.add(n,"b_tdown_ac");var t=sj_ce("div",null,"b_tdown_anim b_fb_anim");t.innerHTML='<svg width="36" height="65" viewBox="0 0 36 42" fill="none" xmlns="http://www.w3.org/2000/svg">\n                            <path class="b_tdown_anim1" d="M33.7046 21.0656L35.4136 26.4583C35.4222 26.4856 35.4215 26.515 35.4115 26.5419V26.5419C34.8458 28.0627 32.823 28.3581 31.846 27.0625L31.5148 26.6233C31.458 26.548 31.4455 26.4482 31.482 26.3612L33.7046 21.0656Z" fill="#37BDFF"/>\n                            <path class="b_tdown_anim1"  d="M15.7046 18.0656L17.4136 23.4583C17.4222 23.4856 17.4215 23.515 17.4115 23.5419V23.5419C16.8458 25.0627 14.823 25.3581 13.846 24.0625L13.5148 23.6233C13.458 23.548 13.4455 23.4482 13.482 23.3612L15.7046 18.0656Z" fill="#37BDFF"/>\n                            <path class="b_tdown_anim2"  d="M25.7046 9.06563L27.4136 14.4583C27.4222 14.4856 27.4215 14.515 27.4115 14.5419V14.5419C26.8458 16.0627 24.823 16.3581 23.846 15.0625L23.5148 14.6233C23.458 14.548 23.4455 14.4482 23.482 14.3612L25.7046 9.06563Z" fill="#37BDFF"/>\n                            <path class="b_tdown_anim2"  d="M5.70459 5.06563L7.41357 10.4583C7.42222 10.4856 7.4215 10.515 7.41151 10.5419V10.5419C6.84576 12.0627 4.82299 12.3581 3.84598 11.0625L3.51476 10.6233C3.45797 10.548 3.44549 10.4482 3.48199 10.3612L5.70459 5.06563Z" fill="#37BDFF"/>\n                            <path class="b_tdown_anim1"  d="M2.70459 20.0656L4.41357 25.4583C4.42222 25.4856 4.4215 25.515 4.41151 25.5419V25.5419C3.84576 27.0627 1.82299 27.3581 0.845979 26.0625L0.514761 25.6233C0.457966 25.548 0.445486 25.4482 0.481991 25.3612L2.70459 20.0656Z" fill="#37BDFF"/>\n                            <path class="b_tdown_anim3"  d="M11.7046 31.0656L13.4136 36.4583C13.4222 36.4856 13.4215 36.515 13.4115 36.5419V36.5419C12.8458 38.0627 10.823 38.3581 9.84598 37.0625L9.51476 36.6233C9.45797 36.548 9.44549 36.4482 9.48199 36.3612L11.7046 31.0656Z" fill="#37BDFF"/>\n                            <path class="b_tdown_anim3"  d="M27.7046 32.0656L29.4136 37.4583C29.4222 37.4856 29.4215 37.515 29.4115 37.5419V37.5419C28.8458 39.0627 26.823 39.3581 25.846 38.0625L25.5148 37.6233C25.458 37.548 25.4455 37.4482 25.482 37.3612L27.7046 32.0656Z" fill="#37BDFF"/>\n                            <defs>\n                                <filter id="filter0_d" x="4.52239" y="5" width="27.3283" height="27.3283" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n                                    <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n                                    <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/>\n                                    <feOffset dy="1.66414"/>\n                                    <feGaussianBlur stdDeviation="0.832068"/>\n                                    <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>\n                                    <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow"/>\n                                    <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape"/>\n                                <\/filter>\n                            <\/defs>\n                          <\/svg>';n.appendChild(t);sb_st(function(){t.parentElement!=null&&(Lib.CssClass.remove(n,"b_tdown_ac"),n.removeChild(t))},2200)}function nv(n){Lib.CssClass.add(n,"b_ofsv_ac");var t=sj_ce("div",null,"b_ofsv_anim b_fb_anim");t.innerHTML='<svg width="45" height="12" viewBox="0 0 45 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n                                <path class="b_ofsv_anim1" d="M6.67476 1.75413C6.66511 1.33244 6.3061 0.987185 5.91151 1.13483C5.75547 1.19322 5.60264 1.26905 5.45443 1.36188C5.07581 1.59904 4.73472 1.94254 4.45064 2.37277C4.16655 2.803 3.94503 3.31154 3.79873 3.86935C3.65242 4.42716 3.5842 5.02332 3.59795 5.62379C3.61169 6.22426 3.70715 6.81728 3.87886 7.36899C4.05057 7.9207 4.29517 8.4203 4.5987 8.83926C4.90222 9.25822 5.25874 9.58833 5.64787 9.81076C5.8002 9.89783 5.95637 9.96773 6.11494 10.0201C6.51594 10.1525 6.85877 9.79081 6.84911 9.36912C6.83953 8.95066 6.45508 8.81713 6.0911 8.60908C5.83192 8.46094 5.52332 8.02416 5.32116 7.74512C5.119 7.46608 4.95609 7.13333 4.84173 6.76588C4.72736 6.39842 4.66379 6.00345 4.65463 5.60352C4.64548 5.20359 4.69092 4.80653 4.78836 4.43501C4.8858 4.06349 5.03334 3.72479 5.22255 3.43824C5.41176 3.15169 5.63894 2.92291 5.89111 2.76496C5.91551 2.74967 5.9401 2.73508 5.96486 2.72119C6.33213 2.51509 6.68442 2.17582 6.67476 1.75413Z" fill="#FF0000"/>\n                                <path class="b_ofsv_anim2" d="M3.36603 0.951518C3.354 0.425995 2.89893 -0.0025634 2.43155 0.236331C2.31016 0.298379 2.19091 0.372438 2.07441 0.458287C1.67523 0.752442 1.31617 1.17926 1.01775 1.71436C0.71933 2.24946 0.487381 2.88237 0.335149 3.57696C0.182917 4.27155 0.113383 5.0142 0.130516 5.76253C0.14765 6.51086 0.251116 7.25019 0.435007 7.93833C0.618898 8.62647 0.879612 9.24993 1.20227 9.77312C1.52492 10.2963 1.90319 10.709 2.31548 10.9876C2.43581 11.0689 2.55835 11.1383 2.68248 11.1956C3.16038 11.4164 3.59543 10.9708 3.5834 10.4452L3.5801 10.3014C3.56989 9.85531 3.14913 9.74196 2.77878 9.49171C2.50418 9.30616 2.17609 8.76074 1.96119 8.41228C1.7463 8.06382 1.57265 7.64858 1.45018 7.19026C1.3277 6.73194 1.25879 6.23951 1.24737 5.74111C1.23596 5.2427 1.28228 4.74807 1.38367 4.28545C1.48506 3.82283 1.63954 3.40129 1.8383 3.0449C2.03706 2.6885 2.2762 2.40423 2.54206 2.20832C2.94805 1.90915 3.37844 1.49363 3.36688 0.988571L3.36603 0.951518Z" fill="#FF0000"/>\n                                <path class="b_ofsv_anim1" d="M38.1919 1.75413C38.2016 1.33244 38.5606 0.987185 38.9552 1.13483C39.1112 1.19322 39.2641 1.26905 39.4123 1.36188C39.7909 1.59904 40.132 1.94254 40.4161 2.37277C40.7001 2.803 40.9217 3.31154 41.068 3.86935C41.2143 4.42716 41.2825 5.02332 41.2688 5.62379C41.255 6.22426 41.1596 6.81728 40.9878 7.36899C40.8161 7.9207 40.5715 8.4203 40.268 8.83926C39.9645 9.25822 39.608 9.58833 39.2188 9.81076C39.0665 9.89783 38.9103 9.96773 38.7518 10.0201C38.3508 10.1525 38.0079 9.79081 38.0176 9.36912C38.0272 8.95066 38.4116 8.81713 38.7756 8.60908C39.0348 8.46094 39.3434 8.02416 39.5455 7.74512C39.7477 7.46608 39.9106 7.13333 40.025 6.76588C40.1393 6.39842 40.2029 6.00345 40.2121 5.60352C40.2212 5.20359 40.1758 4.80653 40.0783 4.43501C39.9809 4.06349 39.8334 3.72479 39.6441 3.43824C39.4549 3.15169 39.2278 2.92291 38.9756 2.76496C38.9512 2.74967 38.9266 2.73508 38.9018 2.72119C38.5346 2.51509 38.1823 2.17582 38.1919 1.75413Z" fill="#FF0000"/>\n                                <path class="b_ofsv_anim2" d="M41.5009 0.951518C41.5129 0.425995 41.968 -0.0025634 42.4354 0.236331C42.5568 0.298379 42.676 0.372438 42.7925 0.458287C43.1917 0.752442 43.5508 1.17926 43.8492 1.71436C44.1476 2.24946 44.3796 2.88237 44.5318 3.57696C44.684 4.27155 44.7536 5.0142 44.7364 5.76253C44.7193 6.51086 44.6158 7.25019 44.4319 7.93833C44.248 8.62647 43.9873 9.24993 43.6647 9.77312C43.342 10.2963 42.9638 10.709 42.5515 10.9876C42.4311 11.0689 42.3086 11.1383 42.1845 11.1956C41.7066 11.4164 41.2715 10.9708 41.2835 10.4452L41.2868 10.3014C41.2971 9.85531 41.7178 9.74196 42.0882 9.49171C42.3628 9.30616 42.6909 8.76074 42.9058 8.41228C43.1206 8.06382 43.2943 7.64858 43.4168 7.19026C43.5392 6.73194 43.6082 6.23951 43.6196 5.74111C43.631 5.2427 43.5847 4.74807 43.4833 4.28545C43.3819 3.82283 43.2274 3.40129 43.0286 3.0449C42.8299 2.6885 42.5907 2.40423 42.3249 2.20832C41.9189 1.90915 41.4885 1.49363 41.5001 0.988571L41.5009 0.951518Z" fill="#FF0000"/>\n                            <\/svg>';n.appendChild(t);sb_st(function(){t.parentElement!=null&&(Lib.CssClass.remove(n,"b_ofsv_ac"),n.removeChild(t))},2200)}function pi(n){var i,f,r;if(t.enableFeedback){for(ah(),i=n;i&&!Lib.CssClass.contains(i,"ev_zo_msg");)i=i.parentElement;f=i&&i.getAttribute("cid");(!t.disableFeedbackBubble||u&&f===u&&new Date(hf).getTime()>Date.now())&&(r=i.querySelector(".b_fb_bub"),r||(r=ch(),i.appendChild(r)),Lib.CssClass.remove(r,ut),Lib.CssClass.add(r,"b_fb_vis"))}}function le(n){for(var t=n,i;t&&!Lib.CssClass.contains(t,"ev_zo_msg");)t=t.parentElement;i=t.querySelector(".b_fb_bub");i&&(Lib.CssClass.add(i,ut),Lib.CssClass.remove(i,"b_fb_vis"))}function ah(){var n=_d.querySelector(".b_fb_vis");n&&(Lib.CssClass.add(n,ut),Lib.CssClass.remove(n,"b_fb_vis"))}function tv(n){var t=n.toLowerCase(),e,u,h,f;try{e=ec.test(t);e?r("ClientInst",i,"HasNegativePhrases"):fc.test(t)&&r("ClientInst",i,"HasPositivePhrases");uc.test(t)&&r("ClientInst",i,"HasFunPhrases")}catch(c){}for(t.length>=wc&&r("ClientInst",i,"UserLong"),u=0;u<a.length;u++)if(a[u].author&&a[u].author=="user"&&a[u].text&&a[u].text==t){r("ClientInst",i,"RepeatedQueriesInBot","text",t);break}var o=t.match(/(www)?.?(google|yandex|duckduckgo).?(com)?/),s=!1;o&&o.length>0&&(r("ClientInst",i,"CompetitorNavQueryInBot","text",t),s=!0);h=/(www.)?\w+.(com|org|gov|net)/;f=t.match(h);!s&&f&&f.length>0&&r("ClientInst",i,"NavQueryInBot","text",t)}function iv(n){for(var t=n.target,u,f=!1;t!=null;)Lib.CssClass.contains(t,"ev_talkbox_wrapper")&&(u=!0),t.tagName.toLowerCase()==="a"&&(f=!0),t=t.parentElement;f&&!u&&r("ClientInst",i,"ClickLinkOutsideBot")}function r(n,t,i){for(var f,u=[],r=3;r<arguments.length;r++)u[r-3]=arguments[r];tf?(f={type:n,id:t,name:i,data:u},rf.push(f)):(tf=!0,bs()&&Log.Log.apply(Log,__spreadArray([n,t,i,!1],u,!1)),sb_st(vh,50))}function vh(){if(rf.length>0){var n=rf.shift();bs()&&Log.Log.apply(Log,__spreadArray([n.type,n.id,n.name,!1],n.data,!1));sb_st(vh,50)}else tf=!1}function br(){ci&&(r("ClientInst",i,"LastMsgAttrb"),ci=!1)}function yh(){var i=sj_gx(),f=rt+t.AcknowledgeUrl,r,n;i.open("POST",f,!0);r=vt?d?"Minimized":"Maximized":"None";n={traceId:t.traceId,conversationId:u,displayType:r,source:s&&w?"serpQuery":"user",Timestamp:fi()};t.requestId&&(n.acknowledgedRequestId=t.requestId);n.sliceIds=ui();i.setRequestHeader("Content-Type","application/json");i.send(JSON.stringify(n))}function ph(){var i=sj_gx(),l=rt+t.CalloutUrl,n,s,r,f,e,c,o;i.open("POST",l,!0);n={source:_w.location.hostname,traceId:t.traceId,message:{text:t.searchQuery,timestamp:fi()}};u!=""&&(n.conversationId=u);_G.Lang&&(n.message.locale=_G.Lang);_G.Mkt&&(n.message.market=_G.Mkt,t.forceCricket&&(n.message.market="en-prompter-test"));_G.Region&&(n.message.region=_G.Region);t.longitude!=""&&t.latitude!=""&&(s="lat:"+t.latitude+";long:"+t.longitude+";re=1000m;",n.message.location=s);r=t.sydBEFeatures;t.enableConvoIdMsg&&(f=new URLSearchParams(_w.location.search),e=f.get(rr),e&&(c=JSON.parse(e),n.options=c),o=f.get(ur),o&&(r=o));r!=""&&(n.optionsSets=r.split(","));n.sliceIds=ui();i.setRequestHeader("Content-Type","application/json");sj_be(i,"readystatechange",function(){var t,n;i.readyState===4&&i.status===200&&(n=JSON.parse(i.responseText),((t=n===null||n===void 0?void 0:n.message)===null||t===void 0?void 0:t.text)&&(h=!1),(n===null||n===void 0?void 0:n.conversationId)&&(u=n.conversationId))});i.send(JSON.stringify(n))}function fi(){var t=(new Date).getTimezoneOffset(),r=Math.floor(Math.abs(t/60)),u=Math.abs(t%60),i;t<0?i="+"+ot(r)+":"+ot(u):t>0?i="-"+ot(r)+":"+ot(u):t==0&&(i="Z");var n=new Date,f=n.getDate(),e=n.getMonth()+1,o=n.getFullYear(),s=n.getHours(),h=n.getMinutes(),c=n.getSeconds();return ot(o)+"-"+ot(e)+"-"+ot(f)+"T"+ot(s)+":"+ot(h)+":"+ot(c)+i}function bu(n,u){var f;return u===void 0&&(u=!1),__awaiter(this,void 0,void 0,function(){var n,e;return __generator(this,function(o){switch(o.label){case 0:if(et)return[2];if(!!or)return[3,5];r(t.enableUtilityLog?"ClickMic":"ClientInst",i,"micClick");at();o.label=1;case 1:return o.trys.push([1,3,,4]),[4,navigator.permissions.query({name:"microphone"})];case 2:return n=o.sent(),n.state=="prompt"&&sj_evt.fire("voice.askperms"),[3,4];case 3:return e=o.sent(),[3,4];case 4:((f=navigator===null||navigator===void 0?void 0:navigator.mediaDevices)===null||f===void 0?void 0:f.getUserMedia)&&navigator.mediaDevices.getUserMedia({audio:!0}).then(function(){bh();dh(u)})["catch"](function(n){n.name=="NotAllowedError"||n.name=="NotReadableError"?r("ClientInst",i,"blocked"):n.name=="NotFoundError"||n.name=="OverconstrainedError"?r("ClientInst",i,"nomic"):r("ClientInst",i,"getUserMediaError","error",n);bh();sj_evt.fire("voice.micblock")});o.label=5;case 5:return[2]}})})}function wh(n){if(gr){or=!1;wu();gr.stopContinuousRecognitionAsync();var i=n?e:p,t=i.lastChild;t&&t.querySelector(".ev_my_msg #ev_voice_anim.ev_zo_typing")&&i.removeChild(t);sj_ue(_d,"click",tc)}}function bh(){var n=_ge("b_vs_ov");n&&n.click()}function kh(n,t){var o,r,h,u,a,f;for(n===void 0&&(n=!1),t===void 0&&(t=!1),o=t?[ct,tr]:[ct],r=0;r<o.length;r++)Lib.CssClass.add(o[r],"ev_mic_active");t&&ai(null,70);h=t?pt:nt;h.innerHTML=po;yu();var c=sj_ce("div",null,"ev_msg_wrapper ev_voice_msg"),i=sj_ce("div",null,"ev_my_msg"),l=sj_ce("div","ev_detected"),s=sj_ce("div","ev_hyp");return s.innerHTML="Listening &nbsp; ",u=sj_ce("div","ev_voice_anim","ev_zo_typing"),u.innerHTML="<span><\/span><span><\/span><span><\/span>",i.appendChild(l),i.appendChild(s),i.appendChild(u),c.appendChild(i),a=n?null:uv(i,l,s,u,t),f=t?e:p,f.appendChild(c),f.scrollTop=f.scrollHeight,a}function rv(n,i,r){var f,w,o,l,a,b,v;i===void 0&&(i=!1);r===void 0&&(r=!1);var y=new URLSearchParams(_w.location.href),p=y.get("FORM")||y.get("form"),s={MachineName:t.machineName,url:t.url,formcode:p!==null?p:""};return i&&(s.sessionRefresh=!0),e&&(s.displayType=c?"SuperMax":"Inline"),f={traceId:t.traceId,source:n?"user":"serpQuery",messageType:n?"Chat":"SearchQuery",ClientInfo:s,flightString:t.flightString,isStartOfSession:h,message:{timestamp:fi()}},r&&h||typeof u=="undefined"||!u||(f.conversationId=u),_G.Lang&&(f.message.locale=_G.Lang),_G.Mkt&&(f.message.market=_G.Mkt),_G.Region&&(f.message.region=_G.Region),t.longitude!=""&&t.latitude!=""&&(w="lat:"+t.latitude+";long:"+t.longitude+";re=1000m;",f.location=w),o=t.sydBEFeatures,t.enableConvoIdMsg&&(l=new URLSearchParams(_w.location.search),a=l.get(rr),a&&(b=JSON.parse(a),f.options=b),v=l.get(ur),v&&(o=v)),r&&(o=o==""?"nocache":o+",nocache"),o!=""&&(f.optionsSets=o.split(",")),f.sliceIds=ui(),f}function dh(n){n===void 0&&(n=!1);r("ClientInst",i,"startSpeech");ha();sr&&sr.connected&&sr.close();gr=kh(!1,n);or=!0;var t=wh.bind(this,n);sj_be(_d,"click",t);gr.recognizeOnceAsync(function(){},function(t){t.indexOf("NotAllowedError")>-1||t.indexOf("NotReadableError")>-1?r("ClientInst",i,"blocked"):t.indexOf("NotFoundError")>-1||t.indexOf("OverconstrainedError")>-1?r("ClientInst",i,"nomic"):r("ClientInst",i,"getUserMediaError","error",t);ae(n);return})}function ae(n){var r,t,i;for(or=!1,r=n?[ct,tr]:[ct],t=0;t<r.length;t++)Lib.CssClass.remove(r[t],"ev_mic_active");n&&ai();ce(kf);i=(n?e:p).querySelector(".ev_voice_msg");i&&i.parentElement.removeChild(i)}function uv(n,u,o,s,c){var v=c?pt:nt,w=c?e:p,tt=cu(),d=rv(!0,!1,c),g,a,rt,l;d.message.inputMethod="Speech";c&&h&&(g=hu(),g.length>0&&(d.previousMessages=g));a={clientbuild:"sydney",referer:encodeURIComponent(document.location.href).substring(0,1e3),chatdata:encodeURIComponent(JSON.stringify(d)),uqurequestid:tt};t.enableEprVoice&&(a["speechcontext-phraseOutput.tentativePhraseResults"]="Always");t.enableUquChat&&(a.features="uquchat");t.enableConvoIdMsg&&(a.srconsent="2");var ut=location.protocol=="https:"?"wss:":"ws:",ft=a?"?"+Object.keys(a).map(function(n){return"".concat(n,"=").concat(a[n])}).join("&"):"",et="".concat(ut).concat("//sr.bing.com/opaluqu/speech/recognition/interactive/cognitiveservices/v1").concat(ft),it=SpeechSDK.SpeechConfig.fromEndpoint(new URL(et),"key");return it.speechRecognitionLanguage="xx-yy",rt=SpeechSDK.AudioConfig.fromDefaultMicrophoneInput(),l=new SpeechSDK.SpeechRecognizer(it,rt),sr=SpeechSDK.Connection.fromRecognizer(l),sr.receivedServiceMessage=function(n){var t=JSON.parse(n.jsonString),u;switch(n.eventName.toLowerCase()){case"uqu.message":t.Scenario.toLowerCase()==="chat"&&(u=t.Data,r("ClientInst",i,"SpeechMessage","latency",((new Date).getTime()-ff).toString()),r("ClientInst",i,"SpeechResponse","latency",((new Date).getTime()-ef).toString()),y++,(b||k)&&MsnShared.addClass(_ge("b_syd_supermax"),"syd_qna_manual_send_text"),he(null,"",tt,u))}},l.sessionStarted=function(){v.innerHTML=po},l.recognized=function(n,t){if(ef=(new Date).getTime(),typeof t.result.text!="undefined"){var i=t.result.text;o.innerText="";u.innerText=i}},l.recognizing=function(n,t){var i,r=t.result.text;o.innerText=r;(i=s===null||s===void 0?void 0:s.parentElement)===null||i===void 0?void 0:i.removeChild(s);w.scrollTop=w.scrollHeight},l.speechEndDetected=function(){},l.sessionStopped=function(){sj_ue(_d,"click",wh);or=!1;var e=u.innerText;if(e==""){w.removeChild(n.parentElement);v.innerHTML=df;return}ff=(new Date).getTime();r("ClientInst",i,"RecognizedSpeech");r(t.enableUtilityLog?"SendSR":"ClientInst",i,"sendText");r("ClientInst",i,"Conversation","text","(SPEECH) "+e,"order",f.toString(),"from","USER");h=!1;n.innerHTML=e;Lib.CssClass.remove(n.parentElement,"ev_voice_msg");v.innerHTML=df},l}function at(n){if(n===void 0&&(n=!1),!uf||n){var t=k?oo+"-"+cf:b?wf:oo;t&&si_ct&&si_ct(_ge(t));uf=!0}}function ei(){return((1+Math.random())*65536|0).toString(16).substring(1)}function gh(){return(ei()+ei()+"-"+ei()+"-"+ei()+"-"+ei()+"-"+ei()+ei()+ei()).toLowerCase()}function ve(){var i,s,n,c,r,f,e,l,o;if(rh()||se()){ft(!1);yi();return}i=sj_gx();s=rt+t.CalloutUrl;i.open("POST",s,!0);n={source:_w.location.hostname,traceId:t.traceId,message:{text:t.searchQuery,timestamp:fi()}};u!=""&&(n.conversationId=u);_G.Lang&&(n.message.locale=_G.Lang);_G.Mkt&&(n.message.market=_G.Mkt);_G.Region&&(n.message.region=_G.Region);t.longitude!=""&&t.latitude!=""&&(c="lat:"+t.latitude+";long:"+t.longitude+";re=1000m;",n.message.location=c);r=t.sydBEFeatures;t.enableConvoIdMsg&&(f=new URLSearchParams(_w.location.search),e=f.get(rr),e&&(l=JSON.parse(e),n.options=l),o=f.get(ur),o&&(r=o));r!=""&&(n.optionsSets=r.split(","));n.sliceIds=ui();i.setRequestHeader("Content-Type","application/json");sj_be(i,"readystatechange",function(){var t,n;i.readyState===4&&i.status===200&&(n=JSON.parse(i.responseText),((t=n===null||n===void 0?void 0:n.message)===null||t===void 0?void 0:t.text)&&(fv(n),h=!1),(n===null||n===void 0?void 0:n.conversationId)&&(u=n.conversationId))});i.send(JSON.stringify(n))}function fv(n){var t,u,e;d=!1;s=!1;lu(n.message.text,!1);t=_ge("ev_talkbox_cont");t&&Lib.CssClass.add(t,"ev_zo_first_max_triggered");u=[];u.push({Entity:n.message.text,Type:"Text"});r("ClientInst",i,"Conversation","text",n.message.text,"order",f.toString(),"from","BOT");f++;y++;v(u);yi();vt?(e=_G.BPT?(new Date).getTime()-_G.BPT.getTime():-1,r("ClientInst",i,"Triggered","isMinimized",d.toString(),"timeSinceLoad",e.toString()),bi=!0):r("ClientInst",i,"FirstReqNotVis")}var o=_ge("ev_talkbox_wrapper"),wi="ev_tb_header",ku="ev_talkbox_wrapper_min",it="ev_talkbox",oi="ev_talkbox_min",du="ev_send_button",si="ev_send_text",ye="Sorry, an error occured",hi=sj_ce("div","syd_status_indicator"),t,y=0,d=!0,s=!0,pe=!0,nc="",u,a=[],w=!1,kr=!1,gu=!1,nf=!1,f=0,we,vt=!1,bi=!1,h=!0,tf=!1,rf=[],ci=!1,rt,yt=0,et=!1,be="b_fateBlk",ki=0,dr=0,bt,st,kt,di=0,li,p,gi,uf=!1,nr=0,nt,or=!1,gr,sr,ht,ff=0,ct,ef=0,e,tr,nu,pt,g,sf,dt,hr,tc,hf=null,cr=!1,tt=233,ke=48,c=!1,b=!1,k=!1,lr=!1,l=[],wt=!1,ar=0,de=0,ge=!1,vr=!1,cf="",ic="BeginBotTurn",rc="EndBotTurn",uc=/(lol|he(he)+|ha(ha)+|you are funny|lmao|i love bots|(you have a|i like your) sense of humor)/i,fc=/(thank you|thanks|Cool|Go on|Tell me more|Like\?|Really\?|Yeah|:P|:D||nice to chat with you|(i will )?see you (tomorrow )?again|thank u|hi+|he(he)+|ha(ha)+|thanks nice to chat with you|see you later|that's great|wow|tell me more|one more please|one more pls|bye|same to you)/i,ec=/((you are|this is) stupid|(you are|this is) annoying|you aren't helping|no thank you|no thanks|dumb|(fuck |fk)off|stop bothering me|shut up|fuck you|:\(|:-\(|^sto+p(!*)$|u suck|go to hell|uh+|fucking|bitch|shit|i hate you|your ass|asshole|go to hell|you need a lot of improvements|you are not helpful|(delete|crash) yourself|(you are|you're|youre) boring|liar|there will be no next time|good for you dumbo|ar+g+h+|uninstall bing chat bot)/i,no=/(((I'm|I am) (sorry|not sure I understand|not sure how to respond))|Pardon\?|Sorry, (I'm|I am) not quite sure|Sorry, I don't know|My apologies)/i,to=["Do dogs dream?","Why are cats so cute?","Tell me a joke.","Favourite TV show?","Favourite superhero movie?","Plans for the holidays?","What's your dream job?","Do you have pet peeves?","Why are dogs so cute?","What's going on?","How are things?","What are you up to today","You up to anything?","See anything on tv lately?","You watch a lot of tv?","Any hobbies?","What's your hobby?","How do you pass the time?","What's your favourite music?","Do you like singing?","Are you interested in books?","What's your favourite season?","What do you enjoy doing?","What are your hobbies?","Are you afraid of heights?","Do you believe in ghosts?","Ever been on a plane?","Ever been on vacation?","Are you afraid of monsters?","Could I talk with you?","Can I ask you something","Enjoying the NBA Season?","Are you enjoying the NHL season?"],yr=["Ah, sorry. Either I'm experiencing technical difficulties or the entire internet has completely vanished. Might want to refresh the page and see if that helps.","Hey, not that I'm experiencing a technical error or anything, but refreshing your page might be a good idea right about now.","Whoa, is it just me, or are we both experiencing some technical difficulties that could potentially be resolved by a page refresh or additional user query? Just me?","I don't want to scare you or anything, but I've just encountered some sort of error. Check back with me in a bit to see if I have handled it.","Hey, you should probably refresh your page or something. I'm not saying I just experienced a slight error or anything, but... I just experienced a slight error.","It seems I'm having some technical difficulties. Try refreshing the page to see if that helps, or we can just sit here in silence.","Sydney has encountered an error. Refresh this page to try to fix it, or stay here to do nothing.","Sydney has encountered an error. Refresh this page to either resolve the error or to see a different great error message like this one!","Sydney has encountered an error. To try resolving the error or to see more fantastic Sydney error messages, refresh your page now!","Sorry, an unexpected error is messing with our conversation. Refresh the page. Maybe it'll just go away. They do that sometimes.","I'm sorry, but I seem to have encountered an error. It's not the end of the world, it's just the end of our conversation. Unless you refresh your page, then it's the end of nothing.","Hey, sorry, but I'm doing that computer thing where I'm all \"There's an Error!\" and then you're all \"Alright I'll just refresh the page!\" and then either everything's fixed or you just have to come back later.","ERROR! ERROR! Sorry, I seem to be dealing with a bit of an ERROR at the moment, so maybe you should refresh your page and then all this ERROR ERROR! stuff will be fixed.","Against all odds, I have encountered an error.Let's just refresh the page and try to get back on track.","Hey, I'm sorry, would you mind coming back later ? It looks like I've got a server error here. Don't worry, it doesn't have anything to do with what you just said. It's more of a 'me' thing.","I'm dealing with some server errors right now. Try refreshing this page to see if they get fixed, or just stay here and pretend my error reports are witty responses."],lf="The chat session has expired, please refresh the page to continue chatting!",tu=["Hmmm, sorry I wasn't paying attention, I was talking to 500 million people once can you repeat what you said","Sorry, I was distracted by something else"],iu=["Sorry, I have a headache and need to rest"],oc="I am sorry, I can't connect to the internet right now!",ru="ENSEARCHZOSTATUS",af="STATUS",uu="1",io="0",i="ChattyBot_Sydney",ir="ev_talkbox_notification",sc=247,vf=404,hc=20,cc=16,ro=210,uo=!1,fo=!1,lc=600,ac=(new Date).getTime(),yf="CBStatus",rr="sydneyOptions",ur="sydneyOptionsSets",vc="sydneyUrl",yc="SRCHHPGUSR",pc="BCEN",fu=6e5,wc=200,eu="BCFateOverride",pf="DISABLEDATE",ut="b_hide",eo="b_hideSugg",oo="SydneyInstLink",wf="SydneyQnAInstLink",bf="SydneyTrigger",so="DISABLEMAX",ho="sydMaxSuppression",bc="b_sydBlk",co=1385,kc=120,dc=48,lo=new DataService,ao={},vo={},ou=[],yo='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n                                    <path class="b_ct_face" d="M13.2819 2.70899L13.2818 2.70911L13.291 2.71806C14.7721 4.16168 15.5 5.93155 15.5 8C15.5 10.0679 14.7724 11.8393 13.2887 13.3042L13.2887 13.3042L13.2842 13.3087C11.8399 14.7717 10.0689 15.5 8 15.5C5.93167 15.5 4.15913 14.772 2.69355 13.3064C1.2275 11.8404 0.5 10.0877 0.5 8C0.5 5.93113 1.22827 4.16007 2.69127 2.71583L2.69129 2.71586L2.6958 2.71129C4.16073 1.22758 5.9321 0.5 8 0.5C10.0684 0.5 11.8383 1.22787 13.2819 2.70899Z" fill="#EDEDED" stroke="#919191"/>\n                                    <path class="b_ct_mouth1" d="M4.44446 12.5039C5.03705 11.8125 6.40988 10.4615 8.59261 12.2076C10.0741 13.3928 11.8519 12.2076 12.1482 11.0225" stroke="#F5F5F5" stroke-linecap="round"/>\n                                    <path class="b_ct_mouth2" d="M4.44446 12.1482C5.03705 11.4568 6.40988 10.1058 8.59261 11.8519C10.0741 13.0371 11.8519 11.8519 12.1482 10.6667" stroke="#919191" stroke-width="0.8" stroke-linecap="round"/>\n                                    <path class="b_ct_eye1" d="M11.3 4.7C10.84 4.24 10.26 4 9.60001 4C8.94001 4 8.36001 4.24 7.90001 4.7C7.44001 5.16 7.20001 5.74 7.20001 6.4C7.20001 7.06 7.44001 7.64 7.90001 8.1C8.36001 8.58 8.94001 8.8 9.60001 8.8C10.26 8.8 10.84 8.56 11.3 8.1C11.78 7.64 12 7.08 12 6.4C12 5.72 11.76 5.16 11.3 4.7Z" fill="url(#eye1Gray)"/>\n                                    <path class="b_ct_eye2" d="M8.1 4.7C7.64 4.24 7.06 4 6.4 4C5.74 4 5.16 4.24 4.7 4.7C4.24 5.16 4 5.74 4 6.4C4 7.06 4.24 7.64 4.7 8.1C5.16 8.58 5.74 8.8 6.4 8.8C7.06 8.8 7.64 8.56 8.1 8.1C8.58 7.64 8.8 7.08 8.8 6.4C8.8 5.72 8.56 5.16 8.1 4.7Z" fill="url(#eye2Gray)"/>\n                                    <path class="b_ct_eye3" d="M5.27999 5.28005C4.95999 5.58005 4.79999 5.96005 4.79999 6.40005C4.79999 6.84005 4.95999 7.22005 5.27999 7.54005C5.57999 7.86005 5.95999 8.00005 6.39999 8.00005C6.83999 8.00005 7.21999 7.84005 7.53999 7.54005C7.85999 7.24005 7.99999 6.86005 7.99999 6.40005C7.99999 5.96005 7.83999 5.58005 7.53999 5.28005C7.21999 4.96005 6.83999 4.80005 6.39999 4.80005C5.95999 4.80005 5.57999 4.96005 5.27999 5.28005Z" fill="url(#eye3Gray)"/>\n                                    <path class="b_ct_eye4" d="M8.46 5.28005C8.16 5.58005 8 5.96005 8 6.40005C8 6.84005 8.16 7.22005 8.46 7.54005C8.76 7.86005 9.14 8.00005 9.6 8.00005C10.04 8.00005 10.42 7.84005 10.74 7.54005C11.06 7.24005 11.2 6.86005 11.2 6.40005C11.2 5.96005 11.04 5.58005 10.74 5.28005C10.42 4.96005 10.04 4.80005 9.6 4.80005C9.16 4.80005 8.78 4.96005 8.46 5.28005Z" fill="url(#eye4Gray)"/>\n                                    <path class="b_ct_brow" d="M12.4804 4C11.9417 3.231 11.2899 2.70949 10.4831 2.42669C10.0914 2.29211 9.73771 2.22673 9.44049 2.22567" stroke="#919191" stroke-width="0.7" stroke-linecap="round"/>\n                                    <path class="b_ct_brow" d="M6.67236 2.2971C6.38014 2.27769 6.026 2.34073 5.62842 2.49119C4.81977 2.76863 4.16454 3.28581 3.62077 4.05121" stroke="#919191" stroke-width="0.7" stroke-linecap="round"/>\n                                    <path class="b_ct_pupil" d="M6.14593 5.8401C6.00593 6.0001 5.92593 6.1801 5.92593 6.4001C5.92593 6.6201 6.00593 6.8201 6.14593 6.9601C6.28593 7.1001 6.50593 7.2001 6.72593 7.2001C6.94593 7.2001 7.12593 7.1201 7.28593 6.9601C7.44593 6.8001 7.52593 6.6201 7.52593 6.4001C7.52593 6.1801 7.44593 6.0001 7.28593 5.8401C7.12593 5.6801 6.94593 5.6001 6.72593 5.6001C6.50593 5.6001 6.30593 5.6801 6.14593 5.8401Z" fill="#919191"/>\n                                    <path class="b_ct_pupil" d="M8.77333 5.8401C8.61333 6.0001 8.53333 6.1801 8.53333 6.4001C8.53333 6.6201 8.61333 6.8201 8.77333 6.9601C8.93333 7.1001 9.11333 7.2001 9.33333 7.2001C9.55333 7.2001 9.73333 7.1201 9.89333 6.9601C10.0533 6.8001 10.1333 6.6201 10.1333 6.4001C10.1333 6.1801 10.0533 6.0001 9.89333 5.8401C9.73333 5.6801 9.55333 5.6001 9.33333 5.6001C9.11333 5.6001 8.91333 5.6801 8.77333 5.8401Z" fill="#919191"/>\n                                    <defs>\n                                        <linearGradient id="eye1Gray" x1="9.60017" y1="4.00016" x2="9.60017" y2="8.80016" gradientUnits="userSpaceOnUse">\n                                            <stop stop-color="#E0E0E0"/>\n                                            <stop offset="1" stop-color="#E0E0E0" stop-opacity="0"/>\n                                        <\/linearGradient>\n                                        <linearGradient id="eye2Gray" x1="6.40016" y1="4.00016" x2="6.40016" y2="8.80016" gradientUnits="userSpaceOnUse">\n                                            <stop stop-color="#E0E0E0"/>\n                                            <stop offset="1" stop-color="#E0E0E0" stop-opacity="0"/>\n                                        <\/linearGradient>\n                                        <linearGradient id="eye3Gray" x1="6.39999" y1="6.50757" x2="6.39999" y2="7.81253" gradientUnits="userSpaceOnUse">\n                                            <stop stop-color="white"/>\n                                            <stop offset="1" stop-color="#F8F8F8"/>\n                                        <\/linearGradient>\n                                        <linearGradient id="eye4Gray" x1="9.6" y1="6.50757" x2="9.6" y2="7.81253" gradientUnits="userSpaceOnUse">\n                                            <stop stop-color="white"/>\n                                            <stop offset="1" stop-color="#F5F5F5"/>\n                                        <\/linearGradient>\n                                        <linearGradient id="eye1Col" x1="9.60017" y1="4.00016" x2="9.60017" y2="8.80016" gradientUnits="userSpaceOnUse">\n                                            <stop stop-color="#FFB400"/>\n                                            <stop offset="1" stop-color="#FFB400" stop-opacity="0"/>\n                                        <\/linearGradient>\n                                        <linearGradient id="eye2Col" x1="6.40016" y1="4.00016" x2="6.40016" y2="8.80016" gradientUnits="userSpaceOnUse">\n                                            <stop stop-color="#FFB400"/>\n                                            <stop offset="1" stop-color="#FFB400" stop-opacity="0"/>\n                                        <\/linearGradient>\n                                        <linearGradient id="eye3Col" x1="6.39999" y1="6.50757" x2="6.39999" y2="7.81253" gradientUnits="userSpaceOnUse">\n                                            <stop stop-color="white"/>\n                                            <stop offset="1" stop-color="#E7F9FF"/>\n                                        <\/linearGradient>\n                                        <linearGradient id="eye4Col" x1="9.6" y1="6.50757" x2="9.6" y2="7.81253" gradientUnits="userSpaceOnUse">\n                                            <stop stop-color="white"/>\n                                            <stop offset="1" stop-color="#E7F9FF"/>\n                                        <\/linearGradient>\n                                    <\/defs>\n                                <\/svg>',kf='<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">\n                                    <circle opacity="0.15" cx="16" cy="16" r="16" fill="#6165A1"><\/circle>\n                                    <path d="M20.1666 15.3333C20.4198 15.3333 20.629 15.5215 20.6621 15.7655L20.6666 15.8333V16.1667C20.6666 18.5396 18.83 20.4836 16.5006 20.6545L16.5 22.1667C16.5 22.4428 16.2761 22.6667 16 22.6667C15.7468 22.6667 15.5376 22.4785 15.5045 22.2345L15.5 22.1667V20.6545C13.2221 20.4877 11.4152 18.6253 11.336 16.3242L11.3333 16.1667V15.8333C11.3333 15.5572 11.5572 15.3333 11.8333 15.3333C12.0864 15.3333 12.2956 15.5215 12.3287 15.7655L12.3333 15.8333V16.1667C12.3333 18.0513 13.8229 19.5881 15.689 19.6637L15.8333 19.6667H16.1666C18.0513 19.6667 19.588 18.1771 19.6637 16.3109L19.6666 16.1667V15.8333C19.6666 15.5572 19.8905 15.3333 20.1666 15.3333ZM16 9.33333C17.4727 9.33333 18.6666 10.5272 18.6666 12V16C18.6666 17.4727 17.4727 18.6667 16 18.6667C14.5272 18.6667 13.3333 17.4727 13.3333 16V12C13.3333 10.5272 14.5272 9.33333 16 9.33333Z" fill="#6165A1"><\/path>\n                          <\/svg>',po='<svg width="70" height="70" viewBox="0 0 70 70" fill="none" xmlns="http://www.w3.org/2000/svg">\n                                    <circle cx = "50%" cy = "50%" r="22" fill="url(#paint0_linear_4704_6633_inner_circle)"/>\n                                    <circle cx = "50%" cy = "50%" r="40%" id="ev_zo_mic_middle_circle" fill="url(#paint0_linear_4704_6633_middle_circle)"/>\n                                    <circle cx = "50%" cy = "50%"  r="50%" id="ev_zo_mic_outer_circle" fill="url(#paint0_linear_4704_6633_outer_circle)"/>\n                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M22 24C23.66 24 24.99 22.66 24.99 21L25 15C25 13.34 23.66 12 22 12C20.34 12 19 13.34 19 15V21C19 22.66 20.34 24 22 24ZM20.7998 14.9C20.7998 14.24 21.3398 13.7 21.9998 13.7C22.6598 13.7 23.1998 14.24 23.1998 14.9L23.1898 21.1C23.1898 21.76 22.6598 22.3 21.9998 22.3C21.3398 22.3 20.7998 21.76 20.7998 21.1V14.9ZM22 26.1C24.76 26.1 27.3 24 27.3 21H29C29 24.42 26.28 27.24 23 27.72V31H21V27.72C17.72 27.23 15 24.41 15 21H16.7C16.7 24 19.24 26.1 22 26.1Z" fill="white" transform="translate(13, 13)"/>\n                                    <line x1="35" y1="26" x2="35" y2="36" style="stroke:rgb(255,255,255);stroke-width:3" />\n                                    <defs>\n                                    <radialGradient id="paint0_linear_4704_6633_outer_circle" gradientUnits="userSpaceOnUse">\n                                      <stop stop-color="#6165A2"/>\n                                      <stop offset="1" stop-color="#6064A050"/>\n                                    <\/radialGradient>\n                                    <radialGradient id="paint0_linear_4704_6633_middle_circle" gradientUnits="userSpaceOnUse">\n                                      <stop stop-color="#6165A2"/>\n                                      <stop offset="1" stop-color="#6064A060"/>\n                                    <\/radialGradient>\n                                    <radialGradient id="paint0_linear_4704_6633_inner_circle" gradientUnits="userSpaceOnUse">\n                                      <stop stop-color="#6165A2"/>\n                                      <stop offset="1" stop-color="#6064A0"/>\n                                    <\/radialGradient>\n                                <\/defs>\n                            <\/svg>',wo='<svg class="ev_zo_speaking" width="70" height="70" viewBox="0 0 70 70">\n                                  <circle cx = "50%" cy = "50%" r="22" fill="#6165A2"/>\n                                  <line class="ev_zo_voice_line" x1="46" y1="35" x2="48" y2="35" stroke="white" stroke-width="1"><\/line>\n                                  <line class="ev_zo_voice_line" x1="40" y1="35" x2="42" y2="35" stroke="white" stroke-width="1"><\/line>\n                                  <line class="ev_zo_voice_line" x1="34" y1="35" x2="36" y2="35" stroke="white" stroke-width="1"><\/line>\n                                  <line class="ev_zo_voice_line" x1="28" y1="35" x2="30" y2="35" stroke="white" stroke-width="1"><\/line>\n                                  <line class="ev_zo_voice_line" x1="22" y1="35" x2="24" y2="35" stroke="white" stroke-width="1"><\/line>\n                            <\/svg>',df='<svg width="70" height="70" viewBox="0 0 70 70" fill="none" xmlns="http://www.w3.org/2000/svg">\n                                  <circle opacity="0.15" cx="35" cy="35" r="22" fill="#6165A1"/>\n                                  <path d="M27.2084 21.1666C27.5248 21.1666 27.7863 21.4018 27.8277 21.7068L27.8334 21.7916V22.2083C27.8334 25.1745 25.5376 27.6045 22.6259 27.818L22.6251 29.7083C22.6251 30.0535 22.3452 30.3333 22.0001 30.3333C21.6837 30.3333 21.4222 30.0981 21.3807 29.7931L21.3751 29.7083V27.8181C18.5278 27.6096 16.2691 25.2816 16.1701 22.4052L16.1667 22.2083V21.7916C16.1667 21.4465 16.4466 21.1666 16.7917 21.1666C17.1082 21.1666 17.3697 21.4018 17.411 21.7068L17.4167 21.7916V22.2083C17.4167 24.5641 19.2788 26.485 21.6114 26.5796L21.7917 26.5833H22.2084C24.5642 26.5833 26.4852 24.7213 26.5797 22.3886L26.5834 22.2083V21.7916C26.5834 21.4465 26.8632 21.1666 27.2084 21.1666ZM22.0001 13.6666C23.841 13.6666 25.3334 15.159 25.3334 17V22C25.3334 23.8409 23.841 25.3333 22.0001 25.3333C20.1591 25.3333 18.6667 23.8409 18.6667 22V17C18.6667 15.159 20.1591 13.6666 22.0001 13.6666Z" fill="#6165A1" transform="translate(13, 13)"/>\n                        <\/svg>',ss;n.init=gc;var gf=function(n,t){var i=null;return{trigger:function(){var r=function(){i=null;n()};clearTimeout(i);i=setTimeout(r,t)},reset:function(){clearTimeout(i)}}},fs=gf(function(){r("Hover",i,"d2")},2e3),es=gf(function(){r("Hover",i,"d5")},5e3),os=gf(function(){r("Hover",i,"h");fs.trigger();es.trigger()},500);ss=function(){r("ClientInst",i,"HoverOut","dwellTime",((new Date).getTime()-we).toString(),"state",d?"min":"max");os.reset();fs.reset();es.reset()}})(EnglishZOChatV4_sydneyRin||(EnglishZOChatV4_sydneyRin={}));sj_evt.fire("sydney.init")