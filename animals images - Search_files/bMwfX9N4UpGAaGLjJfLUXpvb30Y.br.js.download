(function(){function tt(n){var r,u,s,t,h,a;n&&n.length>1&&(s=n[1],f=s);g?(g=!1,t=o(_w.location.href),t&&(e=(u=(r=t.searchParams.get("q"))!==null&&r!==void 0?r:t.searchParams.get("Q"))!==null&&u!==void 0?u:""),l(),sj_be(_d,"scroll",l)):(h=Lib.CssClass.contains(sj_b,i),h&&(y?it():(a=_d.querySelectorAll("#b_header .b_scopebar>ul li"),a.forEach(function(n){c(n,f)}))))}function it(){var n=_d.querySelectorAll("#b_header .b_scopebar>ul li");n.forEach(function(n){c(n,f);sj_be(n,"click",rt)})}function ct(){var n=_d.querySelectorAll("#b_header .b_scopebar>ul li");n.forEach(function(n){c(n,e);sj_ue(n,"click",rt)})}function c(n,t){var r=n.querySelector("a"),u=r===null||r===void 0?void 0:r.href,i,f,s;u&&(ft(u)||lt(u)||(i=o(u,_w.location.origin),i)&&(f=n.id===v,s=n.id===h,f?t!==e?i.searchParams.set("pq",e):i.searchParams["delete"]("pq"):s&&!i.searchParams.has("q")&&(i.pathname="/search",i.searchParams["delete"]("scope"),i.searchParams.set("q","")),ut(i,t,r,!0,!1)))}function rt(n){var c,t,s;n=sj_ev(n);var e=n.currentTarget,r=e.querySelector("a"),i=r===null||r===void 0?void 0:r.href,u=f;if(i){if(c=e.id===h,ft(i)){if(i=at(i),t=o(i,_w.location.origin),!t)return;c&&!t.searchParams.has("q")&&(t.pathname="/search",t.searchParams["delete"]("scope"),t.searchParams.set("q",u),u=null)}else{if(t=o(i,_w.location.origin),!t)return;u=null}s=e.getAttribute("inlinechat")!=="true"&&(t.searchParams.has("q")||t.searchParams.has("Q")||t.searchParams.has("prompt"));ut(t,u,r,!1,s);s&&(sj_pd(n),sj_sp(n))}}function ut(n,t,i,r,u){if((r||u)&&(t&&(n.searchParams.has("q")?n.searchParams.set("q",t):n.searchParams.has("Q")?n.searchParams.set("Q",t):n.searchParams.has("prompt")&&n.searchParams.set("prompt",t)),r&&i&&(i.href=n.toString()),u)){var f=i===null||i===void 0?void 0:i.target;f==="_blank"?_w.open(n.toString(),"_blank"):_w.location.href=n.toString()}}function ft(n){return typeof n=="string"&&!!n.match(/\.bing\.com\/(ck|ac|clk)/)}function lt(n){return typeof n=="string"&&!!n.match(/^javascript:\s*void/i)}function at(n){var t=vt(n,"u");if(!t)return n;try{return t.startsWith("a1")&&(t=t.substring(2)),t=t.replace(/_/g,"/").replace(/-/g,"+"),t=decodeURIComponent(atob(t))}catch(i){return Log.Log("EnLink",n,t,!1),n}}function vt(n,t){var r=new RegExp("[?&]{1}"+t+"=([^&]+)([\\/\\\\][^?#]*)?([?#].*)?","i"),i=n.match(r);return i?i[1]:""}function o(n,t){try{return new URL(n,t)}catch(i){return null}}function l(){var n=Lib.CssClass.contains(sj_b,i),t=_w.pageYOffset;t>=w!=n&&t>p!=n&&(n?et():pt(),n=!n);w=t}function yt(){t.setAttribute("data-priority","2");n=_d.querySelector(".b_ph_placehold");!n&&t&&t.parentElement&&(n=_d.createElement("div"),n.className="b_ph_placehold",t.parentElement.insertBefore(n,t))}function pt(){it();Lib.CssClass.add(sj_b,i);Lib.CssClass.add(sj_b,a);Lib.CssClass.add(k,u);Lib.CssClass.remove(b,u);t.style.top="0px";n||yt();n&&(n.style.height=d);r&&(r.style.top="66px");wt("pin")}function et(){(!y||nt)&&(ct(),Lib.CssClass.contains(sj_b,i)&&(Lib.CssClass.remove(sj_b,i),Lib.CssClass.remove(sj_b,a),Lib.CssClass.remove(k,u),Lib.CssClass.add(b,u),t.style.top="auto",n&&(n.style.height="0px"),r&&(r.style.top="0px")))}function ot(){nt=!0}function wt(n){typeof Log!="undefined"&&Log.LogFilterFlare&&Log.LogFilterFlare(["pinheader_"+n])}function st(){t&&(d=t.offsetHeight.toString()+"px",p=30*_d.body.offsetHeight/100,r=_ge("lgGenSERPContainer"),sj_evt.bind("ajax.unload",ht,!1),sj_evt.bind("csComposerTurn",tt,!0),sj_evt.bind("bcontentvis",ot,!0))}function ht(){sj_ue(_d,"scroll",l);sj_evt.unbind("onP1",st);sj_evt.unbind("ajax.unload",ht);sj_evt.unbind("csComposerTurn",tt);sj_evt.unbind("bcontentvis",ot);et()}var s,i="b_pinhead",a="b_pinchathead",u="b_active",v="b-scopeListItem-copilotsearch",h="b-scopeListItem-web",y=((s=_G===null||_G===void 0?void 0:_G.EF)===null||s===void 0?void 0:s.showinlchat)===1,p,w,t=_ge("b_header"),b=_ge(h),k=_ge(v),r,n,d,f,e,g=!0,nt=!1;sj_evt.bind("onP1",st,!0)})()